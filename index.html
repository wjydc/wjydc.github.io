<!doctype html>
<html class="theme-next use-motion theme-next-hexo-theme-next-0.4.0">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>




  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>


<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.0"/>





    <meta name="keywords" content="Hexo,next" />





    <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.0" />




  <title> 薇娇 </title>
</head>

<body>
  <div class="container one-column 
   page-home 
">
    <div class="headband"></div>

    <div id="header" class="header">
      <div class="header-inner">
        <h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand">
      <span class="logo">
        <i class="icon-logo"></i>
      </span>
      <span class="site-title">薇娇</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>


  <ul id="menu" class="menu">
    
      
      <li class="menu-item menu-item-home">
        <a href="/">
          <i class="menu-item-icon icon-home"></i> <br />
          Home
        </a>
      </li>
    
      
      <li class="menu-item menu-item-archives">
        <a href="/archives">
          <i class="menu-item-icon icon-archives"></i> <br />
          Archives
        </a>
      </li>
    
      
      <li class="menu-item menu-item-tags">
        <a href="/tags">
          <i class="menu-item-icon icon-tags"></i> <br />
          Tags
        </a>
      </li>
    
  </ul>


      </div>
    </div>

    <div id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          
            
          

          <div id="posts" class="posts-expand">
            
  
    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2018/04/11/JAVAScript中DOM与BOM的差异分析/">
                JAVAScript中DOM与BOM的差异分析
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          
            Posted on 2018-04-11
          
        </span>

        
          
        

        
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          
            <h1 id="JAVAScript中DOM与BOM的差异分析"><a href="#JAVAScript中DOM与BOM的差异分析" class="headerlink" title="JAVAScript中DOM与BOM的差异分析"></a>JAVAScript中DOM与BOM的差异分析</h1><p>JAVAScript 有三部分构成，ECMAScript，DOM和BOM，根据浏览器的不同，具体的表现形式也不尽相同。我们今天来谈一谈DOM和BOM这俩者之间的差异。</p>
<p>用百科上的来说：</p>
<ol>
<li><p>DOM是 W3C 的标准; [所有浏览器公共遵守的标准]</p>
</li>
<li><p>BOM 是 各个浏览器厂商根据 DOM在各自浏览器上的实现;[表现为不同浏览器定义有差别,实现方式不同]</p>
</li>
<li><p>window 是 BOM 对象，而非 js 对象；</p>
</li>
</ol>
<p>DOM（文档对象模型）是 HTML 和 XML 的应用程序接口（API）。</p>
<p>BOM 主要处理浏览器窗口和框架，不过通常浏览器特定的 JavaScript 扩展都被看做 BOM 的一部分。而这些扩展则包括：</p>
<pre><code>&lt;1&gt;弹出新的浏览器窗口
&lt;2&gt;移动、关闭浏览器窗口以及调整窗口大小
&lt;3&gt;提供 Web 浏览器详细信息的定位对象
&lt;4&gt;提供用户屏幕分辨率详细信息的屏幕对象
&lt;5&gt;对 cookie 的支持
&lt;6&gt;IE 扩展了 BOM，加入了 ActiveXObject 类，可以通过 JavaScript 实例化 ActiveX 对象
</code></pre><p>javacsript是通过访问BOM（Browser Object Model）对象来访问、控制、修改客户端(浏览器)，由于BOM的window包含了document，window对象的属性和方法是直接可以使用而且被感知的，因此可以直接使用window对象的document属性，通过document属性就可以访问、</p>
<p>检索、修改XHTML文档内容与结构。因为document对象又是DOM（Document Object Model）模型的根节点。可以说，BOM包含了DOM(对象)，浏览器提供出来给予访问的是BOM对象，从BOM对象再访问到DOM对象，从而js可以操作浏览器以及浏览器读取到的文档。其中</p>
<p>DOM包含：window</p>
<pre><code>1 Window对象包含属性：document、location、navigator、screen、history、frames

2 Document根节点包含子节点：forms、location、anchors、images、links
</code></pre><p>从window.document已然可以看出，DOM的最根本的对象是BOM的window对象的子对象。而他们之前的最大区别：DOM描述了处理网页内容的方法和接口，BOM描述了与浏览器进行交互的方法和接口。</p>
<p>首先我们来仔细了解一下DOM：</p>
<p>在HTML中DOM的节点层次为：</p>
<p><img src="https://a3.qpic.cn/psb?/V12MFQbM13bQsJ/XXN25GWdVPmy.uUCD5ouqfQn2Dt6DcvWevv3Q8BvcZs!/m/dEIBAAAAAAAAnull&amp;bo=4wEXAQAAAAADB9Y!&amp;rf=photolist&amp;t=5" alt=""></p>
<p>DOM操作creatElement(element)创建一个新的元素节点creatTextNode()创建一个包含给定文本的新文本节点appendChild()指定节点的最后一个节点列表后添加一个新的子节insertBefore()将一个给定节点插入到一个给定元素节点的给定子节点的前面removeChild()从一</p>
<p>个给定元素中删除子节点replaceChild()把一个给定父元素里的一个子节点替换为另外一个节点，DOM通过创建树来表示文档，描述了处理网页内容的方法和接口，从而使开发者对文档的内容和结构具有空前的控制力，用DOM API可以轻松地删除、添加和替换节点。</p>
<p>访问节点的方法如下：</p>
<pre><code>var oHtml = document.documentElement;//返回存在于 XML 以及 HTML 文档中的文档根节点oHtml包含了一个表示&lt;html /&gt;的HTMLElement对象
document.body //是对 HTML 页面的特殊扩展，提供了对 &lt;body&gt; 标签的直接访问
document.getElementById(&quot;ID&quot;) //通过指定的 ID 来返回元素，getElementById() 无法工作在 XML 中，IE6还会返回name为指定ID的元素
document.getElementByName(&quot;name&quot;)//获取所有name特性等于指定值的元素，不过在IE6和Opera7.5上还会返回id为给定名称的元素且仅检查&lt;input/&gt;和&lt;img/&gt;
var x=document.getElementsByTagName(&quot;p&quot;); //使用指定的标签名返回所有的元素列表NodeList，索引号从0开始。当参数是一个星号的时候，IE6并不返回所有的元素，必须用document.all来替代
</code></pre><p>获取到节点之后就要对它进行操作，操作的方法我们用事件来实现，事件类型有：</p>
<pre><code>鼠标事件：click、dbclick、mousedown、mouseup、mouseover、mouseout、mousemove 
键盘事件：keydown、keypress、keyup 
HTML事件：load、unload、abort、error、select、change、submit、reset、resize、scroll、focus、blur
</code></pre><p>下面我们来了解一下BOM：</p>
<p>BOM的核心是window，而window对象又具有双重角色，它既是通过js访问浏览器窗口的一个接口，又是一个Global（全局）对象。这意味着在网页中定义的任何对象，变量和函数，都以window作为其global对象。</p>
<h3 id="window-对象"><a href="#window-对象" class="headerlink" title="window 对象"></a>window 对象</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.close(); <span class="comment">//关闭窗口 </span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">window</span>.alert(<span class="string">"message"</span>); <span class="comment">//弹出一个具有OK按钮的系统消息框，显示指定的文本 </span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">window</span>.confirm(<span class="string">"Are you sure?"</span>); <span class="comment">//弹出一个具有OK和Cancel按钮的询问对话框，返回一个布尔值 </span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">window</span>.prompt(<span class="string">"What's your name?"</span>, <span class="string">"Default"</span>); <span class="comment">//提示用户输入信息，接受两个参数，即要显示给用户的文本和文本框中的默认值，将文本框中的值作为函数值返回 </span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">window</span>.status <span class="comment">//可以使状态栏的文本暂时改变 </span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">window</span>.defaultStatus <span class="comment">//默认的状态栏信息，可在用户离开当前页面前一直改变文本 </span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">window</span>.setTimeout(<span class="string">"alert('xxx')"</span>, <span class="number">1000</span>); <span class="comment">//设置在指定的毫秒数后执行指定的代码，接受2个参数，要执行的代码和等待的毫秒数 </span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">window</span>.clearTimeout(<span class="string">"ID"</span>); <span class="comment">//取消还未执行的暂停，将暂停ID传递给它 </span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">window</span>.setInterval(<span class="function"><span class="keyword">function</span>, 1000); //无限次地每隔指定的时间段重复一次指定的代码，参数同<span class="title">setTimeout</span>(<span class="params"></span>)一样 </span></span><br><span class="line"><span class="function"> </span></span><br><span class="line"><span class="function"><span class="title">window</span>.<span class="title">clearInterval</span>(<span class="params"><span class="string">"ID"</span></span>); //取消时间间隔，将间隔<span class="title">ID</span>传递给它 </span></span><br><span class="line"><span class="function"> </span></span><br><span class="line"><span class="function"><span class="title">window</span>.<span class="title">history</span>.<span class="title">go</span>(<span class="params"><span class="number">-1</span></span>); //访问浏览器窗口的历史，负数为后退，正数为前进 </span></span><br><span class="line"><span class="function"> </span></span><br><span class="line"><span class="function"><span class="title">window</span>.<span class="title">history</span>.<span class="title">back</span>(<span class="params"></span>); //同上 </span></span><br><span class="line"><span class="function"> </span></span><br><span class="line"><span class="function"><span class="title">window</span>.<span class="title">history</span>.<span class="title">forward</span>(<span class="params"></span>); //同上 </span></span><br><span class="line"><span class="function"> </span></span><br><span class="line"><span class="function"><span class="title">window</span>.<span class="title">history</span>.<span class="title">length</span> //可以查看历史中的页面数</span></span><br></pre></td></tr></table></figure>
<h3 id="document对象"><a href="#document对象" class="headerlink" title="document对象"></a>document对象</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>对象：实际上是<span class="built_in">window</span>对象的属性，<span class="built_in">document</span> == <span class="built_in">window</span>.document为<span class="literal">true</span>，是唯一一个既属于BOM又属于DOM的对象 </span><br><span class="line"> </span><br><span class="line"><span class="built_in">document</span>.lastModified <span class="comment">//获取最后一次修改页面的日期的字符串表示 </span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">document</span>.referrer <span class="comment">//用于跟踪用户从哪里链接过来的 </span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">document</span>.title <span class="comment">//获取当前页面的标题，可读写 </span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">document</span>.URL <span class="comment">//获取当前页面的URL，可读写 </span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">document</span>.anchors[<span class="number">0</span>]或<span class="built_in">document</span>.anchors[<span class="string">"anchName"</span>] <span class="comment">//访问页面中所有的锚 </span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">document</span>.forms[<span class="number">0</span>]或<span class="built_in">document</span>.forms[<span class="string">"formName"</span>] <span class="comment">//访问页面中所有的表单 </span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">document</span>.images[<span class="number">0</span>]或<span class="built_in">document</span>.images[<span class="string">"imgName"</span>] <span class="comment">// 访问页面中所有的图像 </span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">document</span>.links [<span class="number">0</span>]或<span class="built_in">document</span>.links[<span class="string">"linkName"</span>] <span class="comment">//访问页面中所有的链接 </span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">document</span>.applets [<span class="number">0</span>]或<span class="built_in">document</span>.applets[<span class="string">"appletName"</span>] <span class="comment">//访问页面中所有的Applet </span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">document</span>.embeds [<span class="number">0</span>]或<span class="built_in">document</span>.embeds[<span class="string">"embedName"</span>] <span class="comment">//访问页面中所有的嵌入式对象 </span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">document</span>.write(); 或<span class="built_in">document</span>.writeln(); <span class="comment">//将字符串插入到调用它们的位置</span></span><br></pre></td></tr></table></figure>
<h3 id="location对象"><a href="#location对象" class="headerlink" title="location对象"></a>location对象</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">location对象：表示载入窗口的URL，也可用<span class="built_in">window</span>.location引用它 </span><br><span class="line"> </span><br><span class="line">location.href <span class="comment">//当前载入页面的完整URL，如http://www.somewhere.com/pictures/index.htm </span></span><br><span class="line"> </span><br><span class="line">location.portocol <span class="comment">//URL中使用的协议，即双斜杠之前的部分，如http </span></span><br><span class="line"> </span><br><span class="line">location.host <span class="comment">//服务器的名字，如www.wrox.com </span></span><br><span class="line"> </span><br><span class="line">location.hostname <span class="comment">//通常等于host，有时会省略前面的www </span></span><br><span class="line"> </span><br><span class="line">location.port <span class="comment">//URL声明的请求的端口，默认情况下，大多数URL没有端口信息，如8080 </span></span><br><span class="line"> </span><br><span class="line">location.pathname <span class="comment">//URL中主机名后的部分，如/pictures/index.htm </span></span><br><span class="line"> </span><br><span class="line">location.search <span class="comment">//执行GET请求的URL中的问号后的部分，又称查询字符串，如?param=xxxx </span></span><br><span class="line"> </span><br><span class="line">location.hash <span class="comment">//如果URL包含#，返回该符号之后的内容，如#anchor1 </span></span><br><span class="line"> </span><br><span class="line">location.assign(<span class="string">"http:www.baidu.com"</span>); <span class="comment">//同location.href，新地址都会被加到浏览器的历史栈中 </span></span><br><span class="line"> </span><br><span class="line">location.replace(<span class="string">"http:www.baidu.com"</span>); <span class="comment">//同assign()，但新地址不会被加到浏览器的历史栈中，不能通过back和forward访问 </span></span><br><span class="line"> </span><br><span class="line">location.reload(<span class="literal">true</span> | <span class="literal">false</span>); <span class="comment">//重新载入当前页面，为false时从浏览器缓存中重载，为true时从服务器端重载，默认为false</span></span><br></pre></td></tr></table></figure>
<h3 id="navigator对象"><a href="#navigator对象" class="headerlink" title="navigator对象"></a>navigator对象</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">navigator对象：包含大量有关Web浏览器的信息，在检测浏览器及操作系统上非常有用，也可用<span class="built_in">window</span>.navigator引用它 </span><br><span class="line"> </span><br><span class="line">navigator.appCodeName <span class="comment">//浏览器代码名的字符串表示 </span></span><br><span class="line"> </span><br><span class="line">navigator.appName <span class="comment">//官方浏览器名的字符串表示 </span></span><br><span class="line"> </span><br><span class="line">navigator.appVersion <span class="comment">//浏览器版本信息的字符串表示 </span></span><br><span class="line"> </span><br><span class="line">navigator.cookieEnabled <span class="comment">//如果启用cookie返回true，否则返回false </span></span><br><span class="line"> </span><br><span class="line">navigator.javaEnabled <span class="comment">//如果启用java返回true，否则返回false </span></span><br><span class="line"> </span><br><span class="line">navigator.platform <span class="comment">//浏览器所在计算机平台的字符串表示 </span></span><br><span class="line"> </span><br><span class="line">navigator.plugins <span class="comment">//安装在浏览器中的插件数组 </span></span><br><span class="line"> </span><br><span class="line">navigator.taintEnabled <span class="comment">//如果启用了数据污点返回true，否则返回false </span></span><br><span class="line"> </span><br><span class="line">navigator.userAgent <span class="comment">//用户代理头的字符串表示</span></span><br></pre></td></tr></table></figure>
<h3 id="screen对象"><a href="#screen对象" class="headerlink" title="screen对象"></a>screen对象</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">screen对象：用于获取某些关于用户屏幕的信息，也可用<span class="built_in">window</span>.screen引用它 </span><br><span class="line"> </span><br><span class="line">screen.width/height <span class="comment">//屏幕的宽度与高度，以像素计 </span></span><br><span class="line"> </span><br><span class="line">screen.availWidth/availHeight <span class="comment">//窗口可以使用的屏幕的宽度和高度，以像素计 </span></span><br><span class="line"> </span><br><span class="line">screen.colorDepth <span class="comment">//用户表示颜色的位数，大多数系统采用32位 </span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">window</span>.moveTo(<span class="number">0</span>, <span class="number">0</span>); </span><br><span class="line"> </span><br><span class="line"><span class="built_in">window</span>.resizeTo(screen.availWidth, screen.availHeight); <span class="comment">//填充用户的屏幕</span></span><br></pre></td></tr></table></figure>
<h2 id="window对象方法则有以下这几种："><a href="#window对象方法则有以下这几种：" class="headerlink" title="window对象方法则有以下这几种："></a>window对象方法则有以下这几种：</h2><p><img src="https://a1.qpic.cn/psb?/V12MFQbM13bQsJ/U3n6AzqQcZoMjPlnqS04BMAdi.IiByn1KRES4nG3vQM!/m/dEABAAAAAAAAnull&amp;bo=mwIzAgAAAAADB4o!&amp;rf=photolist&amp;t=5" alt="mahua"></p>
<p>BOM和DOM的结构关系示意图：</p>
<p><img src="https://a2.qpic.cn/psb?/V12MFQbM13bQsJ/HxOfucKK2wG9vDMUkN7sj4X4tFsdASUDI1vp8kAGv2s!/m/dJEAAAAAAAAAnull&amp;bo=SQOwAQAAAAADB9k!&amp;rf=photolist&amp;t=5" alt="mahua"></p>
<p>window对象思维导图：</p>
<p><img src="https://a2.qpic.cn/psb?/V12MFQbM13bQsJ/l4jfiIYHf5NJas3lcANYW4KRBZf55ksJxeWE8hRow2Y!/m/dJEAAAAAAAAAnull&amp;bo=gALSCgAAAAADB3g!&amp;rf=photolist&amp;t=5" alt="mahua"></p>

          
        
      </div>
    

    
      <div class="post-footer">
        

        

        
        
          <div class="post-eof"></div>
        
      </div>
    
  </div>


  
    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2017/09/21/vue-js实战-基础篇/">
                vue.js实战-基础篇
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          
            Posted on 2017-09-21
          
        </span>

        
          
        

        
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          
            <h2 id="vue-js实战-基础篇"><a href="#vue-js实战-基础篇" class="headerlink" title="vue.js实战-基础篇"></a>vue.js实战-基础篇</h2><p>之前曾看过vue.js的官方文档， 看了一些理论知识， 前段时间，自己拿以前的项目来做实践，毕竟纸上得来终觉浅嘛， 不过，由于由于时间关系，做的实例不多，刚学习vue的同学可以看看。后续自己还会深入的去学习，陆续补上。欢迎大神们来指正以及给予辅导。</p>
<h3 id="项目目录"><a href="#项目目录" class="headerlink" title="项目目录"></a>项目目录</h3><p><img src="http://a1.qpic.cn/psb?/V12MFQbM1FNN0M/LPLLIF39*wXEq5WBtpGbZ7KNVe4LIvkXAfXzvzcD0WM!/b/dOcAAAAAAAAA&amp;bo=JQFQAgAAAAADAFM!&amp;rf=viewer_4" alt="Alt text"></p>
<h3 id="注意知识点："><a href="#注意知识点：" class="headerlink" title="注意知识点："></a>注意知识点：</h3><ol>
<li><p>vue 做移动端 ， meta 直接写在index.html 的head 里</p>
<h5 id="Index-html"><a href="#Index-html" class="headerlink" title="Index.html"></a>Index.html</h5><pre><code>&lt;meta name=viewport content=&quot;width=device-width,initial-scale=1,user-scalable=no&quot;&gt;
</code></pre></li>
<li><p>v-for 的使用</p>
<p> #####VUE1.0：</p>
<pre><code>li v-for=&quot;(index,item) in items&quot; v-on:click=&quot;onclick($index)&quot;&gt;&lt;/li&gt;
</code></pre><p> #####VUE2.0 $index 已弃用：</p>
<pre><code>&lt;p v-for=&quot;(item,index) in tabs&quot; v-on:click=&quot;tabsShow(index)&quot;&gt;{{item.tabname}}&lt;/p&gt;
</code></pre><p> （参数一为key值 ， 参数二为索引值）</p>
</li>
</ol>
<p>3．组件命名时，不要用html元素如 head footer nav …..等命名。  </p>
<ol start="4">
<li><p>每个页面公用的头部和尾部直接写在app.vue 中：<br><img src="http://a3.qpic.cn/psb?/V12MFQbM1FNN0M/F1PBtSsZL..IyQl07a7PQ5mxBgKLff6yR4JP8wGwiyo!/b/dG0BAAAAAAAA&amp;bo=IQEaAQAAAAADAB4!&amp;rf=viewer_4" alt="Alt text"></p>
<p><em>注意：其他的组件页面最外层的容器不要设置高度。</em></p>
</li>
</ol>
<h3 id="一-less-安装使用"><a href="#一-less-安装使用" class="headerlink" title="一  less 安装使用"></a>一  less 安装使用</h3><p>安装less依赖</p>
<pre><code>npm install less less-loader –save
</code></pre><p>修改 <em>webpack.base.conf.js</em> 文件，配置loader加载依赖，让其支持外部的less,在原来的代码上添加</p>
<pre><code>{
    test: /\.less$/,
    loader: &apos;style-loader!css-loader!less-loader&apos;
  },
</code></pre><p>引入：</p>
<pre><code>&lt;style lang=&quot;sass&quot;&gt;
 @import &quot;/style/base.scss&quot;;(此处分号不可省)
&lt;/style&gt;
</code></pre><h3 id="二-swiper-使用"><a href="#二-swiper-使用" class="headerlink" title="二 swiper 使用"></a>二 swiper 使用</h3><p>在static 中引入 swiper [<br>Swiper.min.css<br>Swiper.min.js<br>]</p>
<p>在 .eslintrc.js 中 配置swiper    :  </p>
<pre><code>&apos;globals&apos;: {
  &apos;Swiper&apos;: true
}
</code></pre><p>组件：</p>
<pre><code>&lt;template&gt;
       &lt;div class=&quot;swiper-container&quot;&gt;
          &lt;div class=&quot;swiper-wrapper&quot;&gt;

            &lt;div class=&quot;swiper-slide&quot; v-for=&quot;item in listImg&quot;&gt;
              &lt;img class=&quot;imgload&quot; :src=&apos;item.url&apos; alt=&quot;首页banner图片01&quot;&gt;
            &lt;/div&gt;
          &lt;/div&gt;
          &lt;!-- 如果需要分页器 --&gt;
          &lt;div class=&quot;swiper-pagination&quot;&gt;&lt;/div&gt;

          &lt;!-- 如果需要导航按钮 --&gt;

    &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
import &apos;../../../static/swiper/swiper.min.css&apos;
import &apos;../../../static/swiper/swiper.min.js&apos;
export default {
  props: [&apos;listImg&apos;],
  name: &apos;swiper&apos;,
  data () {
    return {
      msg: &apos;Welcome to Your Vue.js App&apos;
    }
  },
  mounted () {
    var swiper = new Swiper(&apos;.swiper-container&apos;, {
      pagination: &apos;.swiper-pagination&apos;,
      paginationClickable: true,
      loop: true,
      speed: 600,
      autoplay: 1000,
      onTouchEnd: function () {
        swiper.startAutoplay()
      }
    })
  }
}
&lt;/script&gt;

&lt;style scoped lang=&quot;less&quot;&gt;
.swiper-container {
    width: 100%;
    height:208px;
    background-color:red;
    .swiper-wrapper {
        width: 100%;
        height: 100%;
    }
    .swiper-slide {
        background-position: center;
        background-size: cover;
        width: 100%;
        height: 100%;
        img {
            width: 100%;
            height: 100%;
        }
    }
    .swiper-pagination-bullet {
        width:20px;
        height:20px;
        background-color:blue;
        display: inline-block;
        background: #7c5e53;
    }
}

&lt;/style&gt;
</code></pre><h3 id="三-vue-router-router-link-实现页面跳转"><a href="#三-vue-router-router-link-实现页面跳转" class="headerlink" title="三 vue-router + router-link 实现页面跳转"></a>三 vue-router + router-link 实现页面跳转</h3><p>构建项目时安装vue-router（会自动在项目中创建router文件，推荐使用） ，  或者 在项目中通过 cnpm install vue-touter –save 来安装。</p>
<ol>
<li><p>使用第一种方法自动安装时 router下的 xx.js 配置：</p>
<pre><code>import Vue from &apos;vue&apos;
import Router from &apos;vue-router&apos;
// 引入路由对应的组件
import Index from &apos;@/components/index&apos;
import Detail from &apos;@/components/detail&apos;
// 全局使用路由
Vue.use(Router)
// 实例化路由并且暴露
export default new Router({
  routes: [
    {
      path: &apos;/&apos;,
      name: &apos;Index&apos;,
      component: Index
    },
    {
      path: &apos;/detail&apos;,
      name: &apos;Detail&apos;,
      component: Detail
    }
  ]
})  
</code></pre></li>
<li>在main.js 中将路由 挂载在 入口上，供全局使用<br><img src="http://a3.qpic.cn/psb?/V12MFQbM1FNN0M/qTFCnHYaaXKzpldPTiEUaHUX68y6hqlhtGUmD6f1e08!/b/dD0BAAAAAAAA&amp;bo=tQFtAQAAAAADAP0!&amp;rf=viewer_4" alt="Alt text"></li>
</ol>
<p>3 组件中使用router-link to=”xxxx” 实现跳转（等同于a href=”xxx”）<br><img src="http://a2.qpic.cn/psb?/V12MFQbM1FNN0M/Mu.2S.BVRiD*iBRLuMtoVjAfi*ydwyeCwBtHwXpGtr4!/b/dDwBAAAAAAAA&amp;bo=DQLYAAAAAAADAPI!&amp;rf=viewer_4" alt="Alt text"></p>
<p><img src="http://a3.qpic.cn/psb?/V12MFQbM1FNN0M/moFDyBPAvZmPmUSlexvbe1W.XIGKHarxNoHYOgndsac!/b/dG0BAAAAAAAA&amp;bo=qQEoAgAAAAADAKc!&amp;rf=viewer_4" alt="Alt text"></p>
<h3 id="四-tab选项卡"><a href="#四-tab选项卡" class="headerlink" title="四 tab选项卡"></a>四 tab选项卡</h3><p>html:</p>
<pre><code>&lt;div  class=&quot;tabs&quot; &gt;
  &lt;p v-for=&quot;(item,index) in tabs&quot; v-on:click=&quot;tabsShow(index)&quot; :class=&quot;{active:item.iscur}&quot;&gt;{{item.tabname}}&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;tabItems&quot;&gt;   
 // 挂载当前显示的默认项
  &lt;component :is=&apos;currentView&apos; keep-alive&gt;&lt;/component&gt;
&lt;/div&gt;
</code></pre><p>Js :</p>
<pre><code>export default {
      name: &apos;Index&apos;,
      data () {
        return {
          tabs: [
            {tabname: &apos;男生&apos;, iscur: true, nowShow: &apos;list&apos;},
            {tabname: &apos;女生&apos;, iscur: false, nowShow: &apos;detail&apos;}
          ],
          currentView: &apos;list&apos;
        }
      },
      components: {
        &apos;banner&apos;: Banner,
        &apos;detail&apos;: Detail,
        &apos;list&apos;: List
      },
      methods: {
        tabsShow: function (indexs) {
          var x = this
          this.tabs.map(function (v, i) {
            if (i === indexs) {
              v.iscur = true
              x.currentView = v.nowShow
            } else {
              v.iscur = false
            }
          })
       }
     }
}
</code></pre><h3 id="五-相同组件绑定不同数据"><a href="#五-相同组件绑定不同数据" class="headerlink" title="五 相同组件绑定不同数据"></a>五 相同组件绑定不同数据</h3><p>例如：同一个swiper组件 ，在不同的父级组件下展示不同的图片源<br><img src="http://a2.qpic.cn/psb?/V12MFQbM1FNN0M/VvBJT6YCuyh3kzzBqidNa0fj7rL5SB9*t9FigNEazg4!/b/dDwBAAAAAAAA&amp;bo=.gBhAQAAAAADAL8!&amp;rf=viewer_4" alt="Alt text"><br><img src="http://a2.qpic.cn/psb?/V12MFQbM1FNN0M/qm79wjSJiTw0QB*GJ..8jaVOq6bBtCLb9S53xvJaa0U!/b/dDwBAAAAAAAA&amp;bo=FQFoAQAAAAADAFg!&amp;rf=viewer_4" alt="Alt text"></p>
<p>主页 三组数据：<br><img src="http://a3.qpic.cn/psb?/V12MFQbM1FNN0M/vW8FmVfHrAtVPZnrjJCC.RRP0VG4Ydf1i4F5MZWuLnw!/b/dD0BAAAAAAAA&amp;bo=XAHzAAAAAAADAIs!&amp;rf=viewer_4" alt="Alt text"></p>
<p>在子组件上绑定数据，供子组件直接使用， 需要用什么数据就绑定什么数据（实际具体数据通过请求接口，此处为示例）<br><img src="http://a3.qpic.cn/psb?/V12MFQbM1FNN0M/xLvmMRwcWQIk6mrVD2gJB4bNYukgMDdsoOY8wiBh4cU!/b/dG0BAAAAAAAA&amp;bo=LgLCAAAAAAADAMs!&amp;rf=viewer_4" alt="Alt text"></p>
<p>在子组件中通过prop 继承父级Data<br><img src="http://a2.qpic.cn/psb?/V12MFQbM1FNN0M/bnA68OGA5cTCGwYkWSbO3hudXoBzuhSd1PcFLr34gWc!/b/dDwBAAAAAAAA&amp;bo=LgIPAQAAAAADAAc!&amp;rf=viewer_4" alt="Alt text"></p>
<p>在公共组件swiper 中 使用逻辑运算符即可：<br><img src="http://a3.qpic.cn/psb?/V12MFQbM1FNN0M/u*g9gOW.W8gkDliyoQPnVjoBdvgYhTO1tlU9r1aTreg!/b/dIUBAAAAAAAA&amp;bo=LgLmAAAAAAADAO8!&amp;rf=viewer_4" alt="Alt text"></p>
<h3 id="六-使用vuex-来存储数据-供全局使用"><a href="#六-使用vuex-来存储数据-供全局使用" class="headerlink" title="六 使用vuex 来存储数据 供全局使用"></a>六 使用vuex 来存储数据 供全局使用</h3><p>1 安装 npm install vuex –save<br>2 在 src 下 建一个store.js 文件<br>3 引入 vue vuex<br><img src="http://a3.qpic.cn/psb?/V12MFQbM1FNN0M/2V6WIvp6lFAtPOl7Pu4VLLdEg2gGM0H5PUNvM9QBonQ!/b/dD0BAAAAAAAA&amp;bo=LgJ2AQAAAAADAH4!&amp;rf=viewer_4" alt="Alt text"></p>
<p>4 在需要使用数据的 .vue 中 data取出<br><img src="http://a3.qpic.cn/psb?/V12MFQbM1FNN0M/FfK3U0yX0joe1H23H.gfxkZbgzOYO4VAe6D2vz55K34!/b/dD0BAAAAAAAA&amp;bo=jwFgAQAAAAADAMo!&amp;rf=viewer_4" alt="Alt text"></p>
<p><img src="http://a3.qpic.cn/psb?/V12MFQbM1FNN0M/BJES12jJSeNJH2SdOyU319KmHL.0GtG2lwvUrlyvGcQ!/b/dIUBAAAAAAAA&amp;bo=vgHYAAAAAAADAEI!&amp;rf=viewer_4" alt="Alt text"></p>
<h3 id="七-使用公用的js-内的方法"><a href="#七-使用公用的js-内的方法" class="headerlink" title="七 使用公用的js 内的方法"></a>七 使用公用的js 内的方法</h3><p>例如在index.vue 中使用common.js中的init方法  ：<br><img src="http://a3.qpic.cn/psb?/V12MFQbM1FNN0M/jAXYswYpZwwxsLB6ZeBs0A9wmLgZqLty80wigJYLshY!/b/dD0BAAAAAAAA&amp;bo=ywCtAQAAAAADAEI!&amp;rf=viewer_4" alt="Alt text"></p>
<p>1    写入的方法 用 export暴露出来否则会报错（需要注意）<br><img src="http://a3.qpic.cn/psb?/V12MFQbM1FNN0M/eOg*ecZXgLYBlq6RmGrQ09.yo0HQ7BR4P2gCNvNtgb8!/b/dIUBAAAAAAAA&amp;bo=rwFvAQAAAAADAOU!&amp;rf=viewer_4" alt="Alt text"></p>
<p>2 在需要的文件中引入 { 方法 } 并且在method 中注入</p>
<p><img src="http://a2.qpic.cn/psb?/V12MFQbM1FNN0M/GOwCr*V6FB4IuZnz4ZyljQ9.GVuPdRi79qdQ4BiO5UQ!/b/dDwBAAAAAAAA&amp;bo=HAJ6AQAAAAADAEA!&amp;rf=viewer_4" alt="Alt text"></p>
<h3 id="八-img-图片绑定路径问题"><a href="#八-img-图片绑定路径问题" class="headerlink" title="八 img 图片绑定路径问题"></a>八 img 图片绑定路径问题</h3><p>1 本地图片直接使用相对路径。<br>2    动态图片 v-bind：src=””<br>3    固定的图片属于静态文件。放置于static . 直接./static/…png 就可获取  </p>
<h3 id="今天的分享就到此了，-下次再继续深入。"><a href="#今天的分享就到此了，-下次再继续深入。" class="headerlink" title="今天的分享就到此了， 下次再继续深入。"></a>今天的分享就到此了， 下次再继续深入。</h3><p><strong>版权声明： 本博客内容由本人自己所著。转载请注明出处！</strong></p>

          
        
      </div>
    

    
      <div class="post-footer">
        

        

        
        
          <div class="post-eof"></div>
        
      </div>
    
  </div>


  
    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2016/11/28/React-Native学习指南/">
                React-Native学习指南
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          
            Posted on 2016-11-28
          
        </span>

        
          
        

        
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          
            <h3 id="React-Native学习指南"><a href="#React-Native学习指南" class="headerlink" title="React-Native学习指南"></a>React-Native学习指南</h3><p>最近在自学React-Native。在网上发现别人整理了一份针对学的React-Native的网站网址，觉得还挺有用的，就收藏了，顺便分享一下。</p>
<p>更详细的可参考 <a href="http://www.w3ctech.com/topic/909" target="_blank" rel="noopener"> http://www.w3ctech.com/topic/909</a></p>
<h4 id="教程"><a href="#教程" class="headerlink" title="教程"></a>教程</h4><p>react-native 官方api文档 <a href="http://facebook.github.io/react-native/docs/getting-started.html" target="_blank" rel="noopener"> http://facebook.github.io/react-native/docs/getting-started.html</a></p>
<p>react-native 中文api文档 (翻译中) <a href="https://github.com/ecomfe/react-native-cn" target="_blank" rel="noopener">https://github.com/ecomfe/react-native-cn</a></p>
<p>react.js中文文档 <a href="http://reactjs.cn/" target="_blank" rel="noopener">http://reactjs.cn/</a></p>
<p>react.js入门教程(gitbook) <a href="http://hulufei.gitbooks.io/react-tutorial/content/introduction.html" target="_blank" rel="noopener">http://hulufei.gitbooks.io/react-tutorial/content/introduction.html
</a></p>
<p>react.js快速入门教程 - 阮一峰 <a href="http://www.ruanyifeng.com/blog/2015/03/react.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2015/03/react.html</a></p>
<p>react.js视频教程 <a href="http://react.nodejs-china.org/t/reactjszhong-wen-shi-pin-jiao-cheng-bai-du-wang-pan/584" target="_blank" rel="noopener">http://react.nodejs-china.org/t/reactjszhong-wen-shi-pin-jiao-cheng-bai-du-wang-pan/584</a></p>
<p>react-native第一课 <a href="http://html-js.com/article/2783" target="_blank" rel="noopener">http://html-js.com/article/2783</a></p>
<p>深入浅出 React Native：使用 JavaScript 构建原生应用 <a href="http://zhuanlan.zhihu.com/FrontendMagazine/19996445" target="_blank" rel="noopener">http://zhuanlan.zhihu.com/FrontendMagazine/19996445
</a></p>
<p>React Native通信机制详解 <a href="http://blog.cnbang.net/tech/2698/" target="_blank" rel="noopener">http://blog.cnbang.net/tech/2698/</a></p>
<p>React Native布局篇 <a href="http://segmentfault.com/a/1190000002658374" target="_blank" rel="noopener">http://segmentfault.com/a/1190000002658374</a></p>
<p>React Native 基础练习指北（一） <a href="http://segmentfault.com/a/1190000002645929http://segmentfault.com/a/1190000002645929" target="_blank" rel="noopener"></a></p>
<p>React Native 基础练习指北（二） <a href="http://segmentfault.com/a/1190000002647733" target="_blank" rel="noopener">http://segmentfault.com/a/1190000002647733</a></p>
<p>构建一个简单的列表页和2页导航 <a href="http://www.xn--cnq920ntha.cn/archives/235#6838470-tsina-1-17436-6a377b1a66595f9ede646cf5c012734c" target="_blank" rel="noopener">http://www.xn–cnq920ntha.cn/archives/235#6838470-tsina-1-17436-6a377b1a66595f9ede646cf5c012734c</a></p>
<p>Diary of Building an iOS App with React Native <a href="http://herman.asia/building-a-flashcard-app-with-react-native" target="_blank" rel="noopener">http://herman.asia/building-a-flashcard-app-with-react-native
</a></p>
<p>Use React Native in Existing iOS App <a href="http://blog-en.leapoahead.com/post/use-react-native-in-existing-ios-app" target="_blank" rel="noopener">http://blog-en.leapoahead.com/post/use-react-native-in-existing-ios-app
</a></p>
<p>tcomb-form-native使用视频教程(需翻墙) <a href="http://react.rocks/example/tcomb-form-native" target="_blank" rel="noopener">http://react.rocks/example/tcomb-form-native</a></p>
<h4 id="开源APP"><a href="#开源APP" class="headerlink" title="开源APP"></a>开源APP</h4><p>研究源码也是一个很好的学习方式</p>
<p>官方演示 <a href="App https://github.com/facebook/react-native/tree/master/Examples">App https://github.com/facebook/react-native/tree/master/Examples</a></p>
<p>ReactNativeRubyChina <a href="https://github.com/henter/ReactNativeRubyChina" target="_blank" rel="noopener">https://github.com/henter/ReactNativeRubyChina</a></p>
<p>HackerNews-React-Native <a href="https://github.com/iSimar/HackerNews-React-Native" target="_blank" rel="noopener">https://github.com/iSimar/HackerNews-React-Native</a></p>
<p>React-Native新闻客户端 <a href="https://github.com/tabalt/ReactNativeNews" target="_blank" rel="noopener">https://github.com/tabalt/ReactNativeNews</a></p>
<p>newswatch(新闻客户端) <a href="https://github.com/bradoyler/newswatch-react-native" target="_blank" rel="noopener">https://github.com/bradoyler/newswatch-react-native</a></p>
<p>buyscreen(购买页面) <a href="https://github.com/appintheair/react-native-buyscreen" target="_blank" rel="noopener">https://github.com/appintheair/react-native-buyscreen</a></p>
<p>V2EX客户端 <a href="https://github.com/samuel1112/v2er" target="_blank" rel="noopener">https://github.com/samuel1112/v2er</a></p>
<p>react-native-todo <a href="https://github.com/joemaddalone/react-native-todohttps://github.com/joemaddalone/react-native-todo" target="_blank" rel="noopener"></a></p>
<p>react-native-beer <a href="https://github.com/muratsu/react-native-beer" target="_blank" rel="noopener">https://github.com/muratsu/react-native-beer</a></p>
<p>react-native-stars <a href="https://github.com/86/react-native-stars" target="_blank" rel="noopener">https://github.com/86/react-native-stars
</a></p>
<p>模仿天猫首页的app <a href="https://github.com/baofen14787/react-native-demo" target="_blank" rel="noopener">https://github.com/baofen14787/react-native-demo</a></p>
<p>ReactNativeChess <a href="https://github.com/csarsam/ReactNativeChess" target="_blank" rel="noopener">https://github.com/csarsam/ReactNativeChess</a></p>
<p>react native 编写的音乐软件 <a href="https://github.com/Johnqing/miumiu" target="_blank" rel="noopener">https://github.com/Johnqing/miumiu</a></p>
<p>react-native-pokedex <a href="https://github.com/ababol/react-native-pokedex" target="_blank" rel="noopener">https://github.com/ababol/react-native-pokedex</a></p>
<p>CNode-React-Native <a href="https://github.com/SFantasy/CNode-React-Native" target="_blank" rel="noopener">https://github.com/SFantasy/CNode-React-Native</a></p>
<p>8tracks电台客户端 <a href="https://github.com/voronianski/EightTracksReactNative" target="_blank" rel="noopener">https://github.com/voronianski/EightTracksReactNative</a></p>
<p>React-Native实现的计算器 <a href="https://github.com/yoxisem544/Calculator-using-React-Native" target="_blank" rel="noopener">https://github.com/yoxisem544/Calculator-using-React-Native
</a></p>
<p>房产搜索app <a href="https://github.com/jawee/react-native-PropertyFinder" target="_blank" rel="noopener">https://github.com/jawee/react-native-PropertyFinder</a></p>
<p>知乎专栏app <a href="https://github.com/LeezQ/react-native-zhihu-app" target="_blank" rel="noopener">https://github.com/LeezQ/react-native-zhihu-app</a></p>
<p>ForeignExchangeApp <a href="https://github.com/peralmq/ForeignExchangeApp" target="_blank" rel="noopener">https://github.com/peralmq/ForeignExchangeApp</a></p>
<h4 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h4><p>react-native-snippets(代码提示) <a href="https://github.com/Shrugs/react-native-snippets" target="_blank" rel="noopener">https://github.com/Shrugs/react-native-snippets</a></p>
<p>react-native-babel(使用ES6+) <a href="https://github.com/roman01la/react-native-babel" target="_blank" rel="noopener">https://github.com/roman01la/react-native-babel</a></p>
<p>资源网站</p>
<p>React-native官网 <a href="http://facebook.github.io/react-native/" target="_blank" rel="noopener">http://facebook.github.io/react-native/</a></p>
<p>React-China社区 <a href="http://react-china.org/" target="_blank" rel="noopener">http://react-china.org/</a></p>
<p>React-native组件库（比较全的组件库） <a href="http://react.parts/" target="_blank" rel="noopener">http://react.parts/</a></p>
<p>React Native Modules <a href="http://reactnativemodules.com/" target="_blank" rel="noopener">http://reactnativemodules.com/</a></p>
<p>11款React Native开源移动 UI 组件 <a href="http://www.oschina.net/news/61214/11-react-native-ui-components" target="_blank" rel="noopener">http://www.oschina.net/news/61214/11-react-native-ui-components</a></p>
<p>业界讨论</p>
<p>谈谈 React Native - 唐巧 <a href="http://blog.devtang.com/blog/2015/02/01/talk-about-react-native/" target="_blank" rel="noopener">http://blog.devtang.com/blog/2015/02/01/talk-about-react-native/</a></p>
<p>如何评价React-Native? <a href="http://www.zhihu.com/question/27852694/answer/43990708" target="_blank" rel="noopener">http://www.zhihu.com/question/27852694/answer/43990708</a></p>
<p>React Native概述：背景、规划和风险 <a href="http://div.io/topic/938" target="_blank" rel="noopener">http://div.io/topic/938</a></p>

          
        
      </div>
    

    
      <div class="post-footer">
        

        

        
        
          <div class="post-eof"></div>
        
      </div>
    
  </div>


  
    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2016/11/18/Mongoose基础篇/">
                Mongoose基础篇
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          
            Posted on 2016-11-18
          
        </span>

        
          
        

        
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          
            <h2 id="Mongoose基础篇"><a href="#Mongoose基础篇" class="headerlink" title="Mongoose基础篇"></a>Mongoose基础篇</h2><p>MongoDB 是由C++语言编写的，是一个基于分布式文件存储的开源数据库系统</p>
<p>MongoDB 旨在为WEB应用提供可扩展的高性能数据存储解决方案。<br>MongoDB 将数据存储为一个文档，数据结构由键值(key=&gt;value)对组成。MongoDB 文档类似于 JSON 对象。字段值可以包含其他文档，数组及文档数组。</p>
<h4 id="MongoDB-下载"><a href="#MongoDB-下载" class="headerlink" title="MongoDB 下载"></a>MongoDB 下载</h4><p>你可以在mongodb官网下载该安装包，地址为 <a href="http://www.mongodb.org/downloads" target="_blank" rel="noopener"> http://www.mongodb.org/downloads</a></p>
<p><code>Schema</code> 一种以文件形式存储的数据库模型骨架，不具备数据库的操作能力</p>
<p><code>Model</code>  由<code>Schema</code>发布生成的模型，具有抽象属性和行为的数据库操作对</p>
<p><code>Entity</code> 由<code>Model</code>创建的实体，他的操作也会影响数据库</p>
<p><code>Schema</code>、<code>Model</code>、<code>Entity</code>的关系 :<br>    <code></code>Schema<code>生成</code>Mode<code>，</code>Model<code>创造</code>Entity<code>，</code>Model<code>和</code>Entity<code>都可对数据库操作造成影响，但</code>Model<code>比</code>Entity`更具操作性。</p>
<h4 id="MongoDB-使用"><a href="#MongoDB-使用" class="headerlink" title="MongoDB 使用"></a>MongoDB 使用</h4><p>1.首先你必须安装MongoDB和NodeJS</p>
<p>2.在项目只能够创建一个数据库连接，如下:</p>
<pre><code>var mongoose = require(&apos;mongoose&apos;);    //引用mongoose模块
var db = mongoose.createConnection(&apos;localhost&apos;,&apos;test&apos;); //    创建一个数据库连接
</code></pre><p>3.打开本机localhost的test数据库时，我们可以监测</p>
<p>4.在工作文档中定义一个Schema</p>
<pre><code>var userSchema=new mongoose.Schema({
username:String,
password:String,
email:String,
});
</code></pre><p>schemas中的数据类型有以下几种：</p>
<ul>
<li><p>String</p>
</li>
<li><p>Number</p>
</li>
<li><p>Date</p>
</li>
<li><p>Boolean</p>
</li>
<li><p>Buffer</p>
</li>
<li><p>ObjectId</p>
</li>
<li><p>Mixed</p>
</li>
<li><p>Array</p>
</li>
</ul>
<p>特别需要说明一下ObjectId类型和Mixed类型以及Array类型，在schemas中声明这几</p>
<p>种类型的方式如下：</p>
<p>ObjectId就类似于唯一键值</p>
<p>  projectSchema.add({</p>
<p>  owner: mongoose.Schema.Types.ObjectId<br>  })</p>
<p> //混合类型，顾名思义，就是说里面可以放置任意类型的数据，有两种方式创建该类型数据</p>
<p> //方式一：直接赋予一个空的字面量对象<br> vardjSchema= new mongoose.Schema({<br>      mixedUp: {}<br>  });</p>
<p> //方式二：根据Schemas.Types中值来赋予<br> vardjSchema= new mongoose.Schema({<br>     mixedUp: Schema.Types.Mixed<br> });</p>
<p> //Array类型数据有两种创建方式，一种是简单数组创建：<br> var userSchema = new mongoose.Schema({<br>     name: String,<br>     emailAddresses: [String]<br> });</p>
<p> //第二种方式就是复杂类型数据数组，例如我们可以再数组中添加不同类型的schemas:</p>
<pre><code> var emailSchema = new mongoose.Schema({
 email: String,
 verified: Boolean
});
 var userSchema = new mongoose.Schema({
 name: String,
 emailAddresses: [emailSchema]
 });
 //注意：如果定义一个空的数据的话，则会创建为一个混合类型数据的数组：
 var emailSchema = new mongoose.Schema({
 email: String,
 verified: Boolean
 });
 var userSchema = new mongoose.Schema({
 name: String,
 emailAddresses: [emailSchema]
 });
</code></pre><p>5 将Schema发布为Model,并且输出</p>
<pre><code>module.exports={
users:mongoose.model(&apos;users&apos;,userSchema,&apos;users&apos;)
}

// model后的参数 第一个users是模型model的名字，可以随便取名

// 参数二是产出model的Schema名，和上面的要对应，

// 参数3是数据库下的集合名称，可以随意取
</code></pre><p>6.我们甚至可以为此Schema创建方法</p>
<pre><code>//为Schema模型追加speak方法
PersonSchema.methos.speak = function(){
 console.log(&apos;我的名字叫&apos;+this.name);
}
var PersonModel = db.model(&apos;Person&apos;,PersonSchema);
var personEntity = new PersonModel({name:&apos;Krouky&apos;});
personEntity.speak();//我的名字叫Krouky
</code></pre><p>7 如果要执行查询，需要依赖Model，当然Entity也是可以做到的</p>
<pre><code> PersonModel.find(function(err,persons){
  //查询到的所有person
});
</code></pre><h4 id="查找数据和读取数据的方法"><a href="#查找数据和读取数据的方法" class="headerlink" title="查找数据和读取数据的方法"></a>查找数据和读取数据的方法</h4><h5 id="查询的方式"><a href="#查询的方式" class="headerlink" title="查询的方式"></a>查询的方式</h5><p>通常有2种查询方式，一种是<code>直接查询</code>，一种是<code>链式查询</code>（2种查询都是自己命名的）<br><code>直接查询</code> 在查询时带有回调函数的，称之为直接查询，查询的条件往往通过API来设定，例如：</p>
<pre><code>PersonModel.findOne({&apos;name.last&apos;:&apos;dragon&apos;},&apos;some     select&apos;,function(err,person){
  //如果err==null，则person就能取到数据
});
</code></pre><p><code>链式查询</code> 在查询时候，不带回调，而查询条件通过API函数来制定，例如：</p>
<pre><code>var query = PersonModel.findOne({&apos;name.last&apos;:&apos;dragon&apos;});
query.select(&apos;some select&apos;);
query.exec(function(err,pserson){
//如果err==null，则person就能取到数据
  });
  这种方式相对直接查询，分的比较明细，如果不带callback，则返回query，query    没有执行的预编译查询语句，该query对象执行的方法都将返回自己，只有在执行    exec方法时才执行查询，而且必须有回调。    
</code></pre><h5 id="更新数据"><a href="#更新数据" class="headerlink" title="更新数据"></a>更新数据</h5><p>有三种方式来更新数据：</p>
<p>(1)update(conditions,update,options,callback); </p>
<p>该方法会匹配到所查找的内容进行更新，不会返回数据；</p>
<p>(2)findOneAndUpdate(conditions,update,options,callback);</p>
<p>该方法会根据查找去更新数据库，另外也会返回查找到的并未改变的数据；</p>
<p>(3)findByIdAndUpdate(conditions,update,options,callback);</p>
<p>该方法跟上面的findOneAndUpdate方法功能一样，不过他是根据ID来查找文档并更新的。</p>
<p>三个方法都包含四个参数，一下稍微说明一下几个参数的意思：</p>
<p>conditions:查询条件</p>
<p>update:更新的数据对象，是一个包含键值对的对象</p>
<p>options:是一个声明操作类型的选项，这个参数在下面再详细介绍</p>
<p>callback:回调函数</p>
<p>对于options参数，在update方法中和findOneAndUpdate、findByIdAndUpdate</p>
<p>两个方法中的可选设置是不同的；</p>
<p> //在update方法中，options的可选设置为：</p>
<p> {</p>
<p>  safe:true|false,  //声明是否返回错误信息，默认true</p>
<p>  upsert:false|true, //声明如果查询不到需要更新的数据项，是否需要新插入一</p>
<p> 条记录，默认false</p>
<p> multi:false|true,  //声明是否可以同时更新多条记录，默认false</p>
<p> strict:true|false  //声明更新的数据中是否可以包含在schema定义之外的字段</p>
<p>  数据，默认true</p>
<p> }</p>
<p> //对于findOneAndUpdate、findByIdAndUpdate这两个方法，他们的options可</p>
<p> 选设置项为：</p>
<p> {</p>
<p> new:true|false, //声明返回的数据时更新后的该是更新前的，如果为true则返回</p>
<p> 更新后的，默认true</p>
<p>upsert:false|trure, </p>
<p> sort:javascriptObject, //如果查询返回多个文档记录，则可以进行排序，在这</p>
<p> 里是根据传入的javascript object对象进行排序</p>
<p> select:String //这里声明要返回的字段，值是一个字符串</p>
<p> }</p>
<h5 id="数据删除"><a href="#数据删除" class="headerlink" title="数据删除"></a>数据删除</h5><p>跟更新数据一样，也有三种方法给我们删除数据：</p>
<p>remove();</p>
<p>findOneAndRemove();</p>
<p>findByIdAndRemove();</p>
<h5 id="数据验证"><a href="#数据验证" class="headerlink" title="数据验证"></a>数据验证</h5><p>mongoose内置数据验证</p>
<p>在mongoose中，数据验证这一层是放在schema中的，mongoose已经帮我们做了很多内</p>
<p>置的数据验证，有一些验证是针对某些数据类型的，也有一些是针对所有数据类型的。</p>
<p>能够作用在所有数据类型上的验证有require，意思就是该字段是否是必须的，例如：</p>
<p>email: { type: String, unique: true, required: true }</p>
<p>上面的代码就定义了一个email是必须的schema.</p>

          
        
      </div>
    

    
      <div class="post-footer">
        

        

        
        
          <div class="post-eof"></div>
        
      </div>
    
  </div>


  
    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2016/11/16/NodeJs常用核心模块简介/">
                NodeJs常用核心模块简介
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          
            Posted on 2016-11-16
          
        </span>

        
          
        

        
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          
            <h3 id="NodeJs常用核心模块简介"><a href="#NodeJs常用核心模块简介" class="headerlink" title="NodeJs常用核心模块简介"></a>NodeJs常用核心模块简介</h3><h4 id="fs-文件管理"><a href="#fs-文件管理" class="headerlink" title="fs 文件管理"></a>fs 文件管理</h4><p>fs 模块提供了异步和同步2个版本     fs.readFile()    fs.readFileSync()<br>1.写入文件内容</p>
<pre><code>fs.writeFile(‘test.txt’, ‘Hello Node’ , [encoding], [callback]);
</code></pre><p>2.追加写入</p>
<pre><code>fs.appendFile(‘test.txt’,‘Hello Node’,[encoding],[callback]);
</code></pre><p>3.文件是否存在</p>
<pre><code>fs.exists(‘test.txt’,[callback]);
</code></pre><p>4.读取文件内容</p>
<pre><code>fs.readFile(‘test.txt’, [encoding], [callback]);
</code></pre><p>5.修改文件名</p>
<pre><code>fs.rename(旧文件,新文件,[callback]);
</code></pre><p>6.移动文件. 没有专门函数,通过修改文件名可以达到目的</p>
<pre><code>fs.rename(oldPath,newPath,[callback]);
</code></pre><p>7.删除文件</p>
<pre><code>fs.unlink(‘test.txt’, [callback]);
</code></pre><p>8.创建目录</p>
<pre><code>fs.mkdir(路径, 权限, [callback]);
路径：新创建的目录。
权限：可选参数，只在linux下有效，表示目录的权限，默认为0777，表示文件所有    者、文件所有者所在的组的*用户、*所有用户，都有权限进行读、写、执行的操作。
</code></pre><p>9.删除目录</p>
<pre><code>fs.rmdir(path, [callback]);
</code></pre><p>10.读取目录. 读取到指定目录下所有的文件</p>
<pre><code>fs.readdir(path, [callback]);
</code></pre><p>11.打开文件</p>
<pre><code>fs.open(path,flags, [mode], [callback(err,fd)])
</code></pre><p>12.关闭文件</p>
<pre><code>fs.close(fd, [callback(err)])
</code></pre><p>13.读取文件</p>
<pre><code>fs.read(fd,buffer,offset,length,position,[callback(err,     bytesRead, buffer)])
</code></pre><p>14.写入文件</p>
<pre><code>fs.writeFile(filename, data,[encoding],[callback(err)])
</code></pre><p>15.修改文件时间戳</p>
<pre><code>fs.utimes(path, atime, mtime, [callback(err)])
</code></pre><h3 id="url-文件管理"><a href="#url-文件管理" class="headerlink" title="url 文件管理"></a>url 文件管理</h3><p>1 .解析url - 条件解析</p>
<pre><code>url.parse(‘http://www.baidu.com?page=1’,true);
结果如: { protocol: ‘http:’,
slashes: true,
auth: null,
host: ‘www.baidu.com’,
port: null,
hostname: ‘www.baidu.com’,
hash: null,
search: ‘?page=1’,
query: { page: ‘1’ },
pathname: ‘/’,
path: ‘/?page=1’,
href: ‘http://www.baidu.com/?page=1’ }
</code></pre><p>2.解析url，返回一个json格式的数组</p>
<pre><code>url.parse(‘http://www.baidu.com’);
结果如: { protocol: ‘http:’,
slashes: null,
auth: null,
host: null,
port: null,
hostname: null,
hash: null,
search: null,
query: null,
pathname: ‘www.baidu.com’,
path: ‘www.baidu.com’,
href: ‘http://www.baidu.com’ }
</code></pre><p>3.格式化为url. 将json数组逆向成url</p>
<pre><code>url.format({
protocol: ‘http:’,
hostname:‘www.baidu.com’,
port:‘80’,
pathname :’/news’,
query:{page:1}
});
结果如: http://www.baidu.com/news?page=1
</code></pre><p>4.封装路径</p>
<pre><code>url.resolve(‘http://example.com/’, ‘/one’)  // &apos;http://example.com/one’
url.resolve(‘http://example.com/one’, ‘/two’) // ‘http://example.com/two’
</code></pre><h3 id="path-路径管理"><a href="#path-路径管理" class="headerlink" title="path 路径管理"></a>path 路径管理</h3><p>1.格式化路径. 将不符合规范的路径经过格式化转换为标准路径,解析路径中的.与…外，还能去掉多余的斜杠</p>
<pre><code>path.normalize(’/path///normalize/hi/…’);
结果如: ‘/path/normalize/’ 标准化之后的路径里的斜杠在Windows系统下    是，而在Linux系统下是/
</code></pre><p>2.组合路径</p>
<pre><code>path.join(’///you’, ‘/are’, ‘//beautiful’);
结果如:  ‘/you/are/beautiful’
</code></pre><p>3.返回路径中的目录名</p>
<pre><code>path.dirname(’/foo/strong/cool/nice’);
结果如: ‘/foo/strong/cool’
</code></pre><p>4.返回路径最后一部分,还可以排除指定字符串</p>
<pre><code>path.basename(’/foo/strong/basename/index.html’);
path.basename(’/foo/strong/basename/index.html’,’.html’);
结果如: index.html 和 index
</code></pre><p>5.返回路径后缀</p>
<pre><code>path.extname(‘index.html’);
结果如: .html
</code></pre><h3 id="Query-String-字符串转换"><a href="#Query-String-字符串转换" class="headerlink" title="Query String 字符串转换"></a>Query String 字符串转换</h3><p>1.序列化对象.将对象类型转换成一个字符串类型（默认的分割符（“&amp;”）和分配符（“=”））</p>
<pre><code>querystring.stringify({foo:‘bar’,cool:[‘xux’, ‘yys’]});
结果如: foo=bar&amp;cool=xux&amp;cool=yys

 重载1: querystring.stringify({foo:‘bar’,cool:[‘xux’,     ‘yys’]},’*’,’$’);
结果如: foo$bar*cool$xux*cool$yys
</code></pre><p>2.反序列化</p>
<pre><code>querystring.parse(‘foo@bar$cool@xux$cool@yys’,’@’,’$’);
结果如: { foo: ‘bar’ ,  cool: [‘xux’, ‘yys’] }
</code></pre><h3 id="http-HTTP"><a href="#http-HTTP" class="headerlink" title="http HTTP"></a>http HTTP</h3><p>2个方法</p>
<pre><code>http.createServer([requestListener])  创建HTTP服务器
http.createClient([port], [host])     创建HTTP客户端
</code></pre><h5 id="http-Server"><a href="#http-Server" class="headerlink" title="http.Server"></a>http.Server</h5><p>由 http.createServer 创建所返回的实例</p>
<h5 id="http-Server-事件"><a href="#http-Server-事件" class="headerlink" title="http.Server 事件"></a>http.Server 事件</h5><p>request 客户端请求到来<br>提供2个参数: req, res  分别是http.ServerRequest 和  http.ServerResponse  的实例.表示请求和响应消息</p>
<p>connection TCP建立连接时触发<br>提供1个 socket 参数 net.Socket 实例</p>
<p>close 服务器关闭时触发<br>无参数</p>
<p>还有checkContinue 、 upgrade 、 clientError 等事件. request 经常使用,所以包含在了 createServer函数中</p>
<h5 id="http-ServerRequest-对象"><a href="#http-ServerRequest-对象" class="headerlink" title="http.ServerRequest 对象"></a>http.ServerRequest 对象</h5><p>HTTP请求的消息, 一般由 http.Server的 request 事件发送</p>
<h5 id="属性"><a href="#属性" class="headerlink" title="属性:"></a>属性:</h5><pre><code>complete          客户端请求是否已经发送完成
httpVersion      HTTP 协议版本，通常是 1.0 或 1.1
method          HTTP 请求方法，如 GET、POST、PUT、DELETE 等
url              原始的请求路径，例如 /static/image/x.jpg 或 /    user?name=byvoid
headers          HTTP 请求头
trailers          HTTP 请求尾（不常见）
connection      当前 HTTP 连接套接字，为 net.Socket 的实例
socket          connection 属性的别名
client          client 属性的别名
</code></pre><p><strong>GET :</strong> 的请求是直接嵌入路径中的. 解析?后面的路径就行了.  url 模块中  parse 函数提供了这个功能</p>
<p><strong>POST : </strong></p>
<pre><code>**HTTP 请求分: 请求头.  请求体**
http.ServerRequest 提供3个事件控制请求体传输
data:    请求体数据来到时. 参数 chunk 表示接收到的数据
end:    请求体数据传输完成时
close    用户当前请求结束时


    var post = &apos;&apos;;
    req.on(&apos;data&apos;, function(chunk) {    post += chunk;        });
    req.on(&apos;end&apos;, function() {    post =     querystring.parse(post);
    res.end(util.inspect(post));});
</code></pre><h5 id="http-ServerResponse-对象"><a href="#http-ServerResponse-对象" class="headerlink" title="http.ServerResponse 对象"></a>http.ServerResponse 对象</h5><p>http.ServerResponse是返回给客户端的信息,决定了用户最终看到的结果. 有3个重要的成员函数. 用于响应头,响应内容以及结束请求</p>
<p>1.向客户端发送响应头</p>
<pre><code>res.writeHead(statusCode, [headers])
statusCode, 是HTTP状态码. 如200,404.

headers 类似数组的对象,表示响应头的每个属性
{
“Content-Type”: “text/html”,
“Connection”: “keep-alive”
}
</code></pre><p>2.发送响应内容, 如果是字符串,需要制定编码方式, 默认 utf-8</p>
<pre><code>res.write(data, [encoding])
</code></pre><p>3.结束响应,告知客户端所有响应完成. 此函数必须调用一次</p>
<pre><code>res.end([data] , [encoding] )
</code></pre><h3 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h3><p>挂接模块</p>
<pre><code>var EventEmitter = require(‘events’).EventEmitter;
</code></pre><p>1.实例化一个EventEmitter对象</p>
<pre><code>var event = new EventEmitter();
</code></pre><p>2.注册事件</p>
<pre><code>emitter.on( ‘Event_Name’ , callBack_Fun )
emitter.once( ‘Event_Name’ , callBack_Fun )    //注册一个单次监听器,触发一次后立刻解除
</code></pre><p>3.发射事件</p>
<pre><code>event.emit(‘Event_Name’ , 参数1,参数2);
</code></pre><p>4.移除事件</p>
<pre><code>emitter…removeListener(‘Event_Name’ , callBack_Fun)
emitter.removeAllListeners(  [‘Event_Name’] )    //如果指定了事件名,就移除指定的,否则移除所有事件
</code></pre><h3 id="模块和包"><a href="#模块和包" class="headerlink" title="模块和包"></a>模块和包</h3><p>Node.js 的模块和包机制的实现参照了 CommonJS 的标准，但并未完全遵循。</p>
<pre><code>#### 包
包是在模块基础上更深一步的抽象, 类似于 c/c++ 的函数库.
Node.js 包是一个目录. 其中包含一个JSON格式的说明文件 package.json
CommonJS 规范特征:
-&gt;   package.json 必须在包的顶层目录下
-&gt;   二进制文件在bin目录下
-&gt;   JavaScript代码在lib目录下
-&gt;   文档应该在doc目录下
-&gt;   单元测试在test目录下



#### require(&apos;Modile_Name&apos;)     
功能:    加载其他模块
说明:    不会重复加载以加载的模块


#### exports.setName
功能:    公开一个模块中的函数或对象
说明:    exports 本身仅仅是一个普通的空对象，即 {}. 所以 exports.函数      就是给它加了函数
module.exports  则是用一个对象取代 exports  对象. (不可以对     exports 直接赋值替代此功能)


方式1:
//使用
exports.SayName = function(thyName) {console.log(thyName)}; 
//调用
var test = require(&apos;./fileName&apos;);
test.SayName(&apos;XueYou&apos;);

方式2:
    //使用
    function hello(){
     var name;
    this.setNam(){};
    this.SayName(){};
    }
    module.exports = hello;
    //调用
    var test = require(&apos;./fileName&apos;);
    test = new test();    //注意因为是对象,所以要new
    test.SayName();
</code></pre>
          
        
      </div>
    

    
      <div class="post-footer">
        

        

        
        
          <div class="post-eof"></div>
        
      </div>
    
  </div>


  
    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2016/11/13/MongoDB常用操作命令/">
                MongoDB常用操作命令
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          
            Posted on 2016-11-13
          
        </span>

        
          
        

        
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          
            <h2 id="MongoDB操作命令"><a href="#MongoDB操作命令" class="headerlink" title="MongoDB操作命令"></a>MongoDB操作命令</h2><p>1、 创建新的数据库并进入    </p>
<pre><code>use mydata
</code></pre><p>2、 Help查看命令提示</p>
<pre><code>db.help();
db.yourColl.help();
db.youColl.find().help();
rs.help();
</code></pre><p>3 、查询所有数据库</p>
<pre><code>show dbs;
</code></pre><p>4、 删除当前使用数据库</p>
<pre><code>db.dropDatabase();
</code></pre><p>5、从指定主机上克隆数据库</p>
<pre><code>db.cloneDatabase(“127.0.0.1”); 将指定机器上的数据库的数据克隆到当前数据库
</code></pre><p>6、从指定的机器上复制指定数据库数据到某个数据库</p>
<pre><code>db.copyDatabase(&quot;mydb&quot;, &quot;temp&quot;, &quot;127.0.0.1&quot;);将本机的mydb的数据复制到temp数据库中
</code></pre><p>7、修复当前数据</p>
<pre><code>db.repairDatabase();
</code></pre><p>8、查看当前使用的数据库</p>
<pre><code>b.getName();
db; db和getName方法是一样的效果，都可以查询当前使用的数据库
</code></pre><p>9、显示当前db状态</p>
<pre><code>db.stats();
</code></pre><p>10、当前db版本</p>
<pre><code>db.version();
</code></pre><p>11、查看当前db的链接机器地址</p>
<pre><code>db.getMongo();
</code></pre><p><strong>用户</strong></p>
<p>1、添加一个用户</p>
<pre><code>db.addUser(&quot;name&quot;);
db.addUser(&quot;userName&quot;, &quot;pwd123&quot;, true); 添加用户、设置密码、是否只读
</code></pre><p>2、数据库认证、安全模式</p>
<pre><code>db.auth(&quot;userName&quot;, &quot;123456&quot;);
</code></pre><p>3、显示当前所有用户</p>
<pre><code>show users;
</code></pre><p>4、删除用户</p>
<pre><code>db.removeUser(&quot;userName&quot;);
</code></pre><p><strong>查询</strong></p>
<p>1、查询所有记录</p>
<pre><code>db.userInfo.find();
默认每页显示20条记录，当显示不下的情况下，可以用it迭代命令查询下一页数    据。注意：键入it命令不能带“；”
但是你可以设置每页显示数据的大小，用DBQuery.shellBatchSize= 50;这样    每页就显示50条记录了。
</code></pre><p>2、查询去掉后的当前聚集集合中的某列的重复数据</p>
<pre><code>db.userInfo.distinct(&quot;name&quot;);
会过滤掉name中的相同数据
相当于：select distict name from userInfo;
</code></pre><p>3、查询age = 100的记录</p>
<pre><code>db.userInfo.find({&quot;age&quot;: 100});
</code></pre><p>4、查询age &gt; 100的记录</p>
<pre><code>db.userInfo.find({age: {$gt: 100}});
</code></pre><p>5、查询age &lt; 100的记录</p>
<pre><code>db.userInfo.find({age: {$lt: 100}});
</code></pre><p>6、查询age &gt;= 100的记录</p>
<pre><code>db.userInfo.find({age: {$gte: 100}});
</code></pre><p>7、查询age &lt;= 100的记录</p>
<pre><code>db.userInfo.find({age: {$lte: 100}});
</code></pre><p>8、查询age &gt;= 20 并且 age &lt;= 30</p>
<pre><code>db.userInfo.find({age: {$gte: 20, $lte: 30}});
</code></pre><p>9、查询name中包含 mongo的数据</p>
<pre><code>db.userInfo.find({name: /mongo/});
</code></pre><p>10、查询name中以mongo开头的</p>
<pre><code>db.userInfo.find({name: /^mongo/});
</code></pre><p>11、查询指定列name、age数据</p>
<pre><code>db.userInfo.find({}, {name: 10, age: 10});
</code></pre><p><strong>修改、添加、删除集合数据</strong></p>
<p>1、添加</p>
<pre><code>db.users.save({name: ‘zhangsan&apos;, age: 25, sex: true});
</code></pre><p>2、修改</p>
<pre><code>db.users.update({age: 25}, {$set: {name: &apos;changeName&apos;}}, false, true);
</code></pre><p>3、删除</p>
<pre><code>db.users.remove({age: 321});
</code></pre><p>4、查询修改删除</p>
<pre><code>b.users.findAndModify({
query: {age: {$gte: 25}}, 
sort: {age: -1}, 
update: {$set: {name: &apos;a2&apos;}, $inc: {age: 2}},
remove: true
});
db.runCommand({ findandmodify : &quot;users&quot;, 
query: {age: {$gte: 25}}, 
sort: {age: -1}, 
update: {$set: {name: &apos;a2&apos;}, $inc: {age: 2}},
remove: true
});
</code></pre><p><strong>其他</strong></p>
<p>1、循环添加数据</p>
<pre><code>&gt; for (var i = 0; i &lt; 30; i++) {
... db.users.save({name: &quot;u_&quot; + i, age: 22 + i, sex: i % 2});
... };
</code></pre><p>或</p>
<pre><code>&gt; for (var i = 0; i &lt; 30; i++) db.users.save({name: &quot;u_&quot; + i, age: 22 + i, sex: i % 2});
</code></pre><p>2、forEach迭代循环</p>
<pre><code>db.users.find().forEach(printjson);
</code></pre><p>想了解更多可以参考:mongodb官网 <a href="https://www.mongodb.com/" target="_blank" rel="noopener">https://www.mongodb.com/</a></p>

          
        
      </div>
    

    
      <div class="post-footer">
        

        

        
        
          <div class="post-eof"></div>
        
      </div>
    
  </div>


  
    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2016/11/11/闲聊微信小程序/">
                闲聊微信小程序
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          
            Posted on 2016-11-11
          
        </span>

        
          
        

        
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          
            <h2 id="闲聊微信小程序"><a href="#闲聊微信小程序" class="headerlink" title="闲聊微信小程序"></a>闲聊微信小程序</h2><p>这篇文章主要是从互联网产品和运营角度看待微信小程序，避免涉及具体的研发技术，尽量从生态和应用场景角度提供更多的描述，期待能加深大家对微信小程序的理解。</p>
<p>首先，小程序为什么显得那么的重要呢？</p>
<h3 id="微信小程序为什么这么热？"><a href="#微信小程序为什么这么热？" class="headerlink" title="微信小程序为什么这么热？"></a>微信小程序为什么这么热？</h3><p>移动互联网时代的今天，微信已经是事实上的霸主，它除了拥有最大的用户量，用户的平均使用时长也最高。</p>
<h4 id="点赞、转发、关注和扫码俨然成为了我们的“日常工作”。"><a href="#点赞、转发、关注和扫码俨然成为了我们的“日常工作”。" class="headerlink" title="点赞、转发、关注和扫码俨然成为了我们的“日常工作”。"></a>点赞、转发、关注和扫码俨然成为了我们的“日常工作”。</h4><p>而活跃在朋友圈、微信群或公众号的形形色色的从业者，也在微信这个大生态下寻找着自己的赚钱机会，其中也不乏赚的盆满钵满的人。</p>
<p>所以，微信的一举一动都备受关注是必然的。但这次的微信推出小程序引发的关注，大大1超过了当初对微信推出公众号的关注，这就非常值得我们去探究其中的原由。</p>
<p>今天微信公众号获得的成功，超出了它刚推出时大多数人的想象，而微信推出的小程序，正是为了弥补公众号的不足，并延续着当初推出公众号的思路，走的更加深远。基于这个原因，再加上互联网上大家对微信小程序的解读和想象，给微信小程序带来了越来越高的关注。</p>
<p>我们来看看除了越来越热的影响力，微信小程序的背后还有哪些重要的事情。</p>
<h3 id="公众号面临哪些困境？有哪些局限？"><a href="#公众号面临哪些困境？有哪些局限？" class="headerlink" title="公众号面临哪些困境？有哪些局限？"></a>公众号面临哪些困境？有哪些局限？</h3><p>微信的公众号分为【订阅号】和【服务号】两种，其中订阅号可以每天向关注者群发一次推文，下面是两个较多人熟悉的订阅号：</p>
<h5 id="1-关于订阅号的局限"><a href="#1-关于订阅号的局限" class="headerlink" title="1.关于订阅号的局限"></a>1.关于订阅号的局限</h5><p>这些做得的不错的订阅号只是众多订阅号中的很少的一部分，大多数的订阅号都遇到文章阅读率低，商业和盈利困难的问题，于是有一些订阅号使用起诸如花钱买阅读等违规手段，这也促使了前一次微信对公众号的整顿和对自身平台的技术升级。</p>
<p>所有订阅号被折叠放置在会话窗口的二级条目【订阅号】下，加上这个条目还会因为会话消息而改变上下的位置，导致订阅号访问并不是很方便，更太多人倾向于使用订阅号作为内容服务者的业务载体，并不适合用于其他互联网服务。</p>
<h5 id="2-服务号有哪些缺陷？"><a href="#2-服务号有哪些缺陷？" class="headerlink" title="2.服务号有哪些缺陷？"></a>2.服务号有哪些缺陷？</h5><p>公众号的另外一种是服务号，它虽然没有被折叠在二级条目下，但同样会因为会话消息而改变存放位置，不能便捷地找到并打开一个服务号。</p>
<p>大多数的互联网服务无法仅仅通过服务号的会话窗口来实现，许多服务号都开发了自己的HTML程序，在使用这些服务时，存在加载慢，操作不流畅等体验不佳的问题。</p>
<p>服务号每周一次的群发推送，也会给用户带来打扰，运营的小伙伴都知道，每周特定的推送日常常就是我们掉粉最大的日子。</p>
<p>公众号还存在的一个问题时，当我们正在访问公众号的某个网页时，无法切换到其他会话并且切换回来，这也会给我们使用公众号的互联网服务带来了不便。</p>
<p>从微信小程序最初的名字“微信应用号”可以看出，推出小程序最初的目的就是弥补当前公众号的不足。</p>
<h3 id="从技术角度看，微信小程序的优点"><a href="#从技术角度看，微信小程序的优点" class="headerlink" title="从技术角度看，微信小程序的优点"></a>从技术角度看，微信小程序的优点</h3><p>微信小程序工作在微信为它定制的浏览器中，从技术角度看，有3个显著的优点：</p>
<ol>
<li><p>所有的小程序都存放在微信自己的服务器上，某个小程序一旦被用户【添加】，就会下载暂存在用户手机上，除了能够快速装载打开外，也能在没有网络的情况下打开。</p>
</li>
<li><p>微信的定制浏览器对小程序做了优化，使用的体验接近于使用原生程序一般流畅。</p>
</li>
<li><p>小程序的开发技术相比传统网页开发技术简单许多，稍加学习，众多的长尾需求者也能为自己开发微信小程序。</p>
</li>
<li><p>所有的小程序都存放在微信自己的服务器上，某个小程序一旦被用户【添加】，就会下载暂存在用户手机上，除了能够快速装载打开外，也能在没有网络的情况下打开。</p>
</li>
<li><p>微信的定制浏览器对小程序做了优化，使用的体验接近于使用原生程序一般流畅。</p>
</li>
<li><p>小程序的开发技术相比传统网页开发技术简单许多，稍加学习，众多的长尾需求者也能为自己开发微信小程序。</p>
</li>
</ol>
<h3 id="微信小程序带来什么风口？"><a href="#微信小程序带来什么风口？" class="headerlink" title="微信小程序带来什么风口？"></a>微信小程序带来什么风口？</h3><p>我们先来看看微信为未来的小程序们做了哪些预先设定：</p>
<ol>
<li><p>入口<br>只能通过微信提供的搜索和在会话中推荐来获取小程序。</p>
</li>
<li><p>服务标准<br>发布了官方的设计指南，以期所有小程序都以相似的交互习惯为用户服务。</p>
</li>
<li><p>游戏规则<br>运营规范和众多的“不准许”的制定，约束了用户的行为。</p>
</li>
<li><p>封闭环境<br>特定的开发语言、严格的审核、私有的发布渠道，确保了一个封闭的环境。</p>
</li>
<li><p>利益分享<br>目前对营销号、游戏、直播甚至预留一个广告位的行为也被严格禁止，给微信在将来设立一个利益共享的分配机制预留机会。</p>
</li>
</ol>
<p>通过这5点，不难看出微信为小程序规划了一个封闭的互利生态系统，这个生态系统主要为用户提供各种的移动互联网服务，微信和系统的参与者们一同来分享收益。</p>
<h3 id="这是移动互联网的下一波红利吗？"><a href="#这是移动互联网的下一波红利吗？" class="headerlink" title="这是移动互联网的下一波红利吗？"></a>这是移动互联网的下一波红利吗？</h3><p>面对这个新兴事物时，上面这句话可能是很多人最直接的想法。</p>
<p><strong>在一个新生态的建立过程中，最先‘吃螃蟹’的参与者能够跟随着新生态得到快速发展的机会。</strong><br>如果没有赶上这个最初的发展时期，后期的参与者很难靠自身获得类似的发展速度，这样的机会就是大家常说的‘红利’。</p>
<p>国内的移动互联网第一波红利出现在智能手机刚刚推出的时候，借助App Store和安卓的应用商城，许多应用开发者发展壮大了起来。而微信推出公众号时，可以看作是第一波红利，成就了不少令人羡慕的项目，比如前面提到的知名订阅号。</p>
<p><strong>对于一家存在于移动互联网的公司而言，随着声势浩荡的微信小程序，你的事业小船也许可以率先来到一片新的蓝海，逃离了现在拥挤不堪的竞争环境。</strong></p>
<h3 id="小程序对现在有互联网岗位带来了新的要求？"><a href="#小程序对现在有互联网岗位带来了新的要求？" class="headerlink" title="小程序对现在有互联网岗位带来了新的要求？"></a>小程序对现在有互联网岗位带来了新的要求？</h3><p>直接能看到的是，微信小程序的到来，意味着工作岗位的增加，一时间必然存在人力缺口，对于最先掌握微信小程序相关技术和知识的人而言，显然是一个升职加薪的好机会。</p>
<p>对于一家移动互联网公司而言，涉足微信小程序领域，需要在原有开发人员的配比上增加小程序研发岗位，出现由原生技术工程师、Web 前端工程师、微信小程序工程师和服务端工程师的配比。</p>
<p>虽然Web前端工程师稍加学习就能够担当微信小程序的开发工作，但微信小程序开发的代码不能够直接和传统的Web前端代码复用，要开发微信小程序就增加了实实在在的工作量，需要安排专人来做这份工作。</p>
<p>微信小程序对互联网岗位的影响，不仅仅是增加新的开发岗位，后文将提到新的生态对从业者带来了从思维到具体操作方法的全新要求。</p>
<p>一个项目或者产品要想在这个新的生态中获得红利机会，只是简简单单把现有产品复制到微信小程序上，那将很难达到目的。</p>
<h3 id="互联网创业请借助微信起步"><a href="#互联网创业请借助微信起步" class="headerlink" title="互联网创业请借助微信起步"></a>互联网创业请借助微信起步</h3><p>也许开一间自己的咖啡屋，是你长久以来的愿望，也许你已经筹钱准备辞职去开一家街角便利店，去创业是这代青年最有默契的愿望。</p>
<p>不论你的创业是停留于想象，还是已经在实践中，一定要将微信的大生态放在你的创业考虑之中，即使你不奢望什么流量和红利。<strong>利用微信公众平台维持客户关系，是当下创业最有效和最实际的方式。</strong></p>
<p>微信小程序的到来，也给试图创业的人，在可选的方向上多了一个机会。未来小程序的生态下，肯定会有新项目的发展壮大。尤其有趣的是，当一个生态系统去和其他的生态竞争时，对于创业者而言，更加可能存在机会，后文在介绍用小程序做电商时会再次提到这一点。</p>
<p>费了这么多劲说微信小程序的重要，可能让大家更加疑惑，微信小程序应用在什么地方？ 接下来一边分享如何学习微信小程序，一边和大家畅想一下微信小程序的适用场景。</p>
<h3 id="互联网运营和产品经理面对的机遇与挑战"><a href="#互联网运营和产品经理面对的机遇与挑战" class="headerlink" title="互联网运营和产品经理面对的机遇与挑战"></a>互联网运营和产品经理面对的机遇与挑战</h3><p>微信小程序的开发难度比传统的Web前端开发难度降低了接近一半，稍加学习我们的产品和运营，就能直接编写一些简单的微信小程序，这可以让产品和运营加深对研发技术的了解，更能提升自身岗位的工作能力。<br>随着微信小程序的正式发布，将会有很多开源的组件和模块，它们会被放在互联网上供大家自由下载使用。互联网上还会出现许多种实现特定功能的云服务，借助开源组件和云服务，我们的运营和产品经理，也能够做出各种实用的微信小程序。</p>
<p>因为微信小程序尚未正式发布，在这个生态系统下，一个微信小程序如何构建自身的商业模式，大家还没有清晰的认知。加上微信制定了严格运营规则，如何运营好一个小程序项目，并且能够达到一定的利益转化，这都是对我们运营人员提出的不小挑战。</p>
<p>如前面提到的，微信推出小程序的目的是，借助微信平台向用户提供广泛的移动互联网服务。</p>
<p>互联网服务的基础仍然是我们的互联网产品，也就是我们的微信小程序，产品经理对微信小程序生态的掌握和理解，是做好微信小程序的关键。而这个新生态的建立之初，也会遇到激烈的竞争。这正是创新能力的竞争，产品经理面对的是一场基于创新能力的机遇和挑战。</p>
<p>最后为大家递上一勺鸡汤，红利永远属于准备好了的人，趁着微信小程序刚刚开始公测，和我们一道开启小程序学习之门吧！</p>
<p>本文部分转自 <a href="http://mp.weixin.qq.com/s?__biz=MzA3MDk4NzMzNg==&amp;mid=2651706736&amp;idx=1&amp;sn=6a3aba161a5cc720d1feeae773556de7&amp;chksm=84cd0e57b3ba874196e909d81d98f5c3e5279a0ec851ae6399e0e732464a6234f0682bd406ae&amp;mpshare=1&amp;scene=1&amp;srcid=1115VFPaauhuHzzn4L9NorT8#rd]" target="_blank" rel="noopener"> http://mp.weixin.qq.com/s?__biz=MzA3MDk4NzMzNg==&amp;mid=2651706736&amp;idx=1&amp;sn=6a3aba161a5cc720d1feeae773556de7&amp;chksm=84cd0e57b3ba874196e909d81d98f5c3e5279a0ec851ae6399e0e732464a6234f0682bd406ae&amp;mpshare=1&amp;scene=1&amp;srcid=1115VFPaauhuHzzn4L9NorT8#rd]
</a></p>

          
        
      </div>
    

    
      <div class="post-footer">
        

        

        
        
          <div class="post-eof"></div>
        
      </div>
    
  </div>


  
    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2016/10/25/Vue-js基础篇/">
                Vue.js基础篇
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          
            Posted on 2016-10-25
          
        </span>

        
          
        

        
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          
            <p>学习Vue.js需要读者有一定的前端基础，否则，可能不太适合你了！</p>
<p>鉴于是基础篇，这里就直接通过在html中引入Vue来说了（适合新手）</p>
<p>首先你需要在本地新建一个html文档，然后引入vue,如下：</p>
<pre><code>&lt;script src=&quot;https://unpkg.com/vue/dist/vue.js&quot;&gt;
</code></pre><p>Vue.js 的核心是一个允许你采用简洁的模板语法来声明式的将数据渲染进 DOM 的系统：</p>
<p>HTML：</p>
<pre><code>&lt;div id=&quot;app&quot;&gt;
  {{ message }}
&lt;/div&gt;
</code></pre><p>JS：</p>
<pre><code>var app = new Vue({
  el: &apos;#app&apos;,
  data: {
message: &apos;Hello word!&apos;
  }
})
</code></pre><p>在浏览器中你会看到</p>
<pre><code>Hello word!
</code></pre><p>打开你的浏览器的控制台，并修改 app.message，你将看到上例相应地更新。</p>
<h3 id="绑定-DOM-元素属性："><a href="#绑定-DOM-元素属性：" class="headerlink" title="绑定 DOM 元素属性："></a>绑定 DOM 元素属性：</h3><p>HTML：</p>
<pre><code>&lt;div id=&quot;app-2&quot;&gt;
  &lt;span v-bind:title=&quot;message&quot;&gt;
Hover your mouse over me for a few seconds to see my     dynamically bound title!
  &lt;/span&gt;
&lt;/div&gt;
</code></pre><p>JS：</p>
<pre><code>var app2 = new Vue({
  el: &apos;#app-2&apos;,
  data: {
message: &apos;You loaded this page on &apos; + new Date()
  }
})
</code></pre><p>在浏览器中你会看到</p>
<pre><code>Hover your mouse over me for a few seconds to see my     dynamically bound title!
</code></pre><p>元素的显示与隐藏，可通过属性seen来控制：<br>    app3.seen = false/true<br>    例子：</p>
<p>html:</p>
<pre><code>&lt;div id=&quot;app-3&quot;&gt;
      &lt;p v-if=&quot;seen&quot;&gt;Now you see me ! &lt;/p&gt;
&lt;/div&gt;
</code></pre><p>js:</p>
<pre><code>var app3 = new Vue({
  el: &apos;#app-3&apos;,
  data: {
    seen: true
  }
})    
</code></pre><p>当将data下的seen:true 改为 false 后，Now you see me !会消失</p>
<h3 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h3><p>比较常用的v-for, 最常见的列表：</p>
<p>html:</p>
<pre><code>&lt;div id=&quot;app-4&quot;&gt;
      &lt;ol&gt;
        &lt;li v-for=&quot;x in xin&quot;&gt;
              {{ x.text }}
           &lt;/li&gt;
      &lt;/ol&gt;
&lt;/div&gt;
</code></pre><p>js:</p>
<pre><code>var app4 = new Vue({
      el: &apos;#app-4&apos;,
      data: {
    xin: [
      { text: &apos;Learn JavaScript&apos; },
      { text: &apos;Learn Vue&apos; },
      { text: &apos;Build something awesome&apos; }
    ]
      }
    })
</code></pre><p>数据渲染：</p>
<pre><code>1 .Learn JavaScript
2 .Learn Vue
3 .Build something awesome
</code></pre><p>同样，在控制台输入新的内容，列表内容会实时更新</p>
<h3 id="事件监听-v-on"><a href="#事件监听-v-on" class="headerlink" title="事件监听 v-on"></a>事件监听 v-on</h3><p>html:</p>
<pre><code>&lt;div id=&quot;app-5&quot;&gt;
      &lt;p&gt;{{ message }}&lt;/p&gt;
      &lt;button v-on:click=&quot;reverseMessage&quot;&gt;Reverse Message&lt;button&gt;
&lt;/div&gt;
</code></pre><p>js:</p>
<pre><code>var app5 = new Vue({
  el: &apos;#app-5&apos;,
  data: {
    message: &apos;Hello Vue.js!&apos;
  },
  methods: {
    reverseMessage: function () {
  this.message = this.message.split(&apos;&apos;).reverse().join(&apos;&apos;)
    }
  }
})
</code></pre><h3 id="Vue-实例"><a href="#Vue-实例" class="headerlink" title="Vue 实例"></a>Vue 实例</h3><p>Vue 实例，实则也就是 ViewModel（数据 + 函数），都是通过构造函数 Vue 创建的：</p>
<pre><code>var data = { a: 1 }
var vm = new Vue({
  el: &apos;#example&apos;,
  data: data,
  created: function () {
// `this` 指向 vm 实例
console.log(&apos;a is: &apos; + this.a)
  }
})
vm.$data === data // -&gt; true
vm.$el === document.getElementById(&apos;example&apos;) // -&gt; true
// $watch 是一个实例方法
vm.$watch(&apos;a&apos;, function (newVal, oldVal) {
  // 这个回调会在 `vm.a` 改变的时候触发
})
</code></pre><p>链接：<a href="https://zhuanlan.zhihu.com/p/23078117" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/23078117</a></p>
<p>Vue 实例都有自己的生命周期，比如 created, mounted, updated 以及 destroyed。所有方法被 called 的时候，this 都指向所在的 Vue 实例。<br><img src="https://pic2.zhimg.com/v2-aaa1b52d4c397d884d73775189440dcd_r.png" alt=""></p>
<h4 id="Class-和-Style-绑定"><a href="#Class-和-Style-绑定" class="headerlink" title="Class 和 Style 绑定"></a>Class 和 Style 绑定</h4><p> v-bind:class 来动态切换 :</p>
<pre><code> &lt;div class=&quot;static&quot;
     v-bind:class=&quot;{ active: isActive, &apos;text-danger&apos;: hasError }&quot;&gt;
&lt;/div&gt;

&lt;div v-bind:class=&quot;classObject&quot;&gt;&lt;/div&gt;
</code></pre><p>js:</p>
<pre><code>data: {
  classObject: {
active: true,
&apos;text-danger&apos;: false
  }
}
</code></pre><h4 id="绑定内联样式"><a href="#绑定内联样式" class="headerlink" title="绑定内联样式"></a>绑定内联样式</h4><pre><code>&lt;div v-bind:style=&quot;{ color: activeColor, fontSize: fontSize +     &apos;px&apos; }&quot;&gt;&lt;/div&gt;
或者直接绑定到 style：

&lt;div v-bind:style=&quot;styleObject&quot;&gt;&lt;/div&gt;

data: {
  styleObject: {
color: &apos;red&apos;,
fontSize: &apos;13px&apos;
  }
}
</code></pre><h4 id="key"><a href="#key" class="headerlink" title="key"></a>key</h4><p>当 vue 在更新被 v-for 渲染的列表时候，会使用就地 patch 的策略，而不是根据元素改变的顺序。我们可以提供 key 来做这个排序：</p>
<pre><code>&lt;div v-for=&quot;item in items&quot; :key=&quot;item.id&quot;&gt;
  &lt;!-- content --&gt;
&lt;/div&gt;
item 会根据 id 来做排序。
</code></pre><h6 id="Key-修饰符"><a href="#Key-修饰符" class="headerlink" title="Key 修饰符"></a>Key 修饰符</h6><pre><code>通用的有使用 keyCode 的:
&lt;input v-on:keyup.13=&quot;submit&quot;&gt;
</code></pre><h4 id="局部注册"><a href="#局部注册" class="headerlink" title="局部注册"></a>局部注册</h4><pre><code>var Child = {
  template: &apos;&lt;div&gt;A custom component!&lt;/div&gt;&apos;
}
new Vue({

  components: {
    &lt;my-component&gt; 
&apos;my-component&apos;: Child
  }
})
</code></pre><p>使用则像:</p>
<pre><code>&lt;div id=&quot;example&quot;&gt;
      &lt;my-component&gt;&lt;/my-component&gt;
&lt;/div&gt;
</code></pre><h4 id="props传递数据"><a href="#props传递数据" class="headerlink" title="props传递数据"></a>props传递数据</h4><p>注册子组件</p>
<pre><code>Vue.component(&apos;child&apos;, {
  // 申明 props
  props: [&apos;message&apos;],
  // 跟 data 一样，可以在 vm (this.message) 和 template 中直接使用
  template: &apos;&lt;span&gt;{{ message }}&lt;/span&gt;&apos;
})
</code></pre><p>传递 props:</p>
<pre><code>&lt;child message=&quot;hello!&quot;&gt;&lt;/child&gt;
</code></pre><p>动态 props</p>
<pre><code>&lt;div&gt;
      &lt;input v-model=&quot;parentMsg&quot;&gt;
      &lt;br&gt;
      &lt;child v-bind:my-message=&quot;parentMsg&quot;&gt;&lt;/child&gt;
&lt;/div&gt;
</code></pre>
          
        
      </div>
    

    
      <div class="post-footer">
        

        

        
        
          <div class="post-eof"></div>
        
      </div>
    
  </div>


  
    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2016/09/06/框架/">
                框架
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          
            Posted on 2016-09-06
          
        </span>

        
          
        

        
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          
            <h2 id="单页应用-SPA-开发中的-Top-10-框架"><a href="#单页应用-SPA-开发中的-Top-10-框架" class="headerlink" title="单页应用(SPA)开发中的 Top 10 框架"></a>单页应用(SPA)开发中的 Top 10 框架</h2><p>要用原生 JavaScript 开发 web 应用 ？ 呵呵哒！现在都追求开发效率，开发者需要要更高效的方式，于是 JavaScript 框架诞生了。JavaScript 框架是单页应用开发的顶梁柱，它为 HTML 和 原生 JavaScript 增加了强大的功能。</p>
<p>多年以来，我们苦逼地使用原生 JavaScirpt 和 jQuery 开发复杂的界面，开发和维护的苦真是一言难尽。</p>
<p>框架能够让开发者抽出更多的精力专注在交互功能上，不用太操心代码的结构和组织。</p>
<p>大多数框架使用了 MVC 模式，并增强了代码的扩展性，重用性和可维护性。MVC 并不是唯一的准则，还有一些其他的模式，比如 MV＊， MVVM， MVP。 要根据项目的需求应用恰当的模式。</p>
<p>最近一段时间 JavaScirpt 框架层出不穷，其中有十个最棒的，它们高端大气，功能丰富，广受欢迎，让我们可以搞定那些难搞的单页应用。</p>
<h3 id="React-js"><a href="#React-js" class="headerlink" title="React.js"></a>React.js</h3><p>Facebook 和 Instagram 的用户界面为什么这么给力呢？因为它们用的是 React.js。我们借此可以感受到 ReactJS 在创建大规模动态应用方面的强大能力。</p>
<p>React 在 2013 年发布了第一个的开源版本，它遵循 BSD 许可。一经发布社区规模就迅速扩大，必须承认它是当今发展最快 JavaScript 框架。随手就可以找到非常多的资料，教程和 React 的组件库。</p>
<p>ReactJS 最擅长高效地渲染复杂的用户界面。它的基本原理是一个称为 virtual DOM 的东西。virtual DOM 可以在客户端或服务端渲染，并进行通信。</p>
<p>在数据处理变的复杂和动态之后，客户端的 DOM 操作的性能受到影响。 React 的解决办法是：</p>
<ul>
<li>使用 virtual DOM 在服务端进行 DOM 渲染。</li>
<li>比较真实的 DOM 和 virtual DOM，并标记两者的差异。</li>
<li>只更新那些发生变化的 DOM 节点而不是重绘完整的 DOM 树。</li>
</ul>
<p>React 另一个优势在于响应式组件带来了很好的重用性，React 组件库创建后可以在多个项目中共用，也能供大众使用。</p>
<p>官网有更多的信息－<a href="http://reactnative.cn/" target="_blank" rel="noopener">http://reactnative.cn/</a></p>
<h3 id="Angular-js"><a href="#Angular-js" class="headerlink" title="Angular.js"></a>Angular.js</h3><p>AngularJS 是 JavaScript 框架中一面旗帜，在2009年发布第一版，遵循 MIT 许可开源。发布以来，Angular 的生态圈就以惊人的速度壮大。它自称拥有最大的开发者社区，也是最常用的框架。</p>
<p>Angular 为 HTML 增添了开发动态交互页面时所需的全部功能，其中包括在 HTML 元素的属性上添加 Angular 的指令。用 Angular 扩展 HTML 太方便了，把默认指令或者自定义指令放在某个 div 的属性上就可以了。</p>
<p>Angular 负责编译和渲染 HTML，并生成用户界面， 在此过程中，它操作 DOM 并实现指令中的全部功能。不过，指令只是 Angular 强大功能的一部分。</p>
<p>双向数据绑定是 Angular 的核心功能。用户在界面上戳戳点点或是输入点什么的时候，改变了应用中的 view，此时 model(JavaScript objects) 会跟随着 view 一起发生变化，model 中的代码逻辑得到执行，最终将更新 DOM 结构。</p>
<p>这个过程反过来也一样的，当某些因素引起 model 变化时（比如使用服务端的消息推送），view 会重新渲染。这种方式大体上根治了手工维护 DOM 的痛苦。</p>
<p>最近发布的 ReactJS 有超越 Angular 的势头，不过 Angular 牢牢地把持着领先地位，人们对它的需求有增无减。Angular 能够不断地成长是因为 每一个版本都会有优化和先进的功能。</p>
<p>我们可以访问 Angular 的官方网张了解更多的信息- <a href="angularjs.org">angularjs.org</a></p>
<h3 id="Backbone-js"><a href="#Backbone-js" class="headerlink" title="Backbone.js"></a>Backbone.js</h3><p>是不是想要一个轻量又包含所有功能的 JavaScript 框架呢？Backone.JS 正是这样的。 Jeremy Ashkenas 在 2010 年发布了它的一个开源版本，遵循 MIT 协议。</p>
<p>backbone 功能强大并应用广泛，Pinterest，Foursquare，Walmart，DIsqus 和 Delicious 这些大公司都在使用它。这仅是用户中的一小部分，由于用户数量巨大，无法罗列出来。</p>
<p>backbone 的优势是它比较简单，很小并容易上手。使用 backbone 开发可以说干就干。</p>
<p>backbone 非常灵活，因为它提供了一个最小的功能集合，开发者在此基础上二次开发，自己写代码或者使用第三方的库都可以。还可以在 backbone 的基础上构建一个全功能的框架。</p>
<p>过去的几个月中，backbone 使用者的增长速度缓慢，远远落后Angular， Ember 还有新出道的 React 的增速。</p>
<p>主要是因为 backbone 版本迭代慢，缺少其他框架提供的强大功能。</p>
<p>尽管还有人使用 backbone，不过更多的作为辅助框架而不是主要的框架。</p>
<p>Backbone 的更多信息请看<a href="backbonejs.org">backbonejs.org</a></p>
<h3 id="Vue-js"><a href="#Vue-js" class="headerlink" title="Vue.js"></a>Vue.js</h3><p>Vue.js 的开发者是尤小右，2014 年发布了第一个开源版本，遵循 MIT 许可。</p>
<p>VueJs 是个小鲜肉，吸引了很多开发者关注。VueJs 使用了 MVVM 模式，它的API 非常简单。VueJs 的设计精简至极，为开发者精心准备了几个必需的模块。</p>
<p>VueJs 参考了 AngularJS, ReactiveJs, konckoutJS 和 RivetsJS，使用双向的数据绑定更新 model 和 view。</p>
<p>目前来说，Vue 并不能同 Angular 还有 Ember 一较高下，但它很有潜力成为日后的主流框架，届时将获得相应的占有率。发布 10 个月以来它牢牢地站稳了脚跟，现在由尤小右维护。</p>
<p>关于 VueJs 的更多信息请看-<a href="vuejs.org">vuejs.org</a></p>
<h3 id="Mercury-js"><a href="#Mercury-js" class="headerlink" title="Mercury.js"></a>Mercury.js</h3><p>我们身处 JavaScript 框架大发展的时期，这种状况前所未有。我的 top ten 名单里也给新晋者留着一个位置，这就是 Mercury.js，它刚刚发布但前景广阔。</p>
<p>Mercury 由Raynos 创建，遵循 MIT 许可。它迅速的火了起来，吸引了大量的开发者关注。</p>
<p>Mercury 应该是借鉴 react 并使用了虚拟 DOM。它是现代化的框架，完全模块化，也可以按照需要扩展。</p>
<p>想一下这几个概念，压缩体积小，模块化，高效还有广受欢迎，Mercury 因此占据了当今十佳 JavaScript 框架的一个位置。</p>
<p>了解更多请看 <a href="githubcom/Raynos/mercury">githubcom/Raynos/mercury</a></p>
<h3 id="Knockout-js"><a href="#Knockout-js" class="headerlink" title="Knockout.js"></a>Knockout.js</h3><p>knockoutJS 由 Steve Sanderson 在 2010 年发布了第一个开源版本，遵循 MIT 许可。Knockout 依照的是 MVVM 模式，这让它变的与 Ember 还有 Angular 不太一样。</p>
<p>Knockout 曾经流行过，不过现在与 Angular, Ember 还有 Backbone 相比，用户增速非常缓慢。原因很简单，因为在增加新的功能和改进现有功能方面相差太多。</p>
<p>社区的开发者正在慢慢地转向 React 还有 Angular 的方向发展。Knockout 底蕴深厚，如果有人愿意接手它，并为它增加最新的技术，它还有希望重现辉煌。 </p>
<p>我们可以了解更多的信息<a href="knockoutjs.com">knockoutjs.com</a></p>
<h3 id="Polymer-js"><a href="#Polymer-js" class="headerlink" title="Polymer.js"></a>Polymer.js</h3><p>Polymer.js 是一个与众不同的框架，由 google 在 2013 年发布。Polymer 使用了 web components 来增强 HTML 的功能。</p>
<p>Web Components 是由 W3C 发布的一项浏览器技术，用来创建定制的 HTML 标签。比如 <audio> 是一个标准的 HTML5 元素，通过使用 web components 和相关的技术可以生成一个自定义的标签，比如说<my-audio>。</my-audio></audio></p>
<p>Polymer 使用的是包含 web components 在内的浏览器技术，它开创了自定义 HTML 标签的一套体系。</p>
<p>有关 Polymer 的更多信息请看 <a href="polymer-project.org">polymer-project.org</a></p>
<h3 id="Meteor-js"><a href="#Meteor-js" class="headerlink" title="Meteor.js"></a>Meteor.js</h3><p>喜欢只使用 JavaScript 开发完整的 web 应用吗？MeteorJS 正是这个神奇的全栈开发平台，让我们可以迅速地开发移动应用和网页应用。MeteorJS非常给力，拥有我们需要的所有功能，包括前端渲染，后端开发，业务逻辑处理和数据库管理。</p>
<p>Meteor 是 Meteor 开发组创造的，在 2012 年发布了一个开源版本，遵循 MIT 许可。</p>
<p>发布以来，MeteorJS 的生态圈迅速的发展壮大，它的社区业非常地活跃，相关的资料，教程和第三方的包很多，这些让 MeteorJS 变的非常强力。</p>
<p>MeteorJS 最棒的地方是仅 javaScript 开发就够了，不用花费时间去学习其他的语言。另外 MetrorJS 是模块化的，包和库可以按需加载。</p>
<p>服务端的代码运行在 nodejs 上，使用 MeteorJS 就能操作数据库，全都是 JavsScript， MeteorJS 是实时的 web 应用。</p>
<p>性能方面，数据库中的改变都会实时得反映在 UI 上，避免了不同语言间切换，减少了服务器的响应时间。</p>
<p>我们在官网了解到更多的信息-<a href="meteor.com">meteor.com</a></p>
<h3 id="Aurelia-js"><a href="#Aurelia-js" class="headerlink" title="Aurelia.js"></a>Aurelia.js</h3><p>AureliaJS 由 Rob Eisenberg 为首的团队创建，团队中大部分的人来自 Angular 和 Durandal。它是 Durandal 公司旗下的一个开源的产品。该公司是一个创业公司，提供下一代 web 开发所用的库，工具和框架。</p>
<p>AureliaJS 是 2015 年 1 月发布的，不过已经在用于生产环境。它是 Durandal 的继承者，据 Eisenberg 说其实就是 Durandal 的下一个版本。 Durandal，Angular 1还有Angualr 2 的开发者可以轻松地迁移到 Aurelia 。</p>
<p>虽然 AureliaJS 刚发布不久，但是如果你在寻找 JavaScript 框架，请认真考虑它。因为它底蕴深厚，并由一只非常专业的团队维护着。</p>
<p>AureliaJS 的模块化程度非常高，由众多相互独立的，规模较小的库组成。我们可以在项目中使用整个框架，也可以仅使用一些必备的库，或者是扩展所用包来构建自己的框架。</p>
<p>AureliaJS 不依赖其他的库，除了一些必要的 polyfill 没有额外的依赖。</p>
<p>通过官网我们可以了解更多的信息－<a href="aurelia.io">aurelia.io</a></p>
<h3 id="Ember-js"><a href="#Ember-js" class="headerlink" title="Ember.js"></a>Ember.js</h3><p>EmberJS 也是一个功能强大的 MVC 框架。Ember 由 Yehuda 在 2011 年发布了第一个开源版本，遵循MIT 许可。EmberJS 在创建交互应用方面可以同 Angular，React 一较高下，也拥有非常活跃的社区。</p>
<p>Ember 和 Angular 一样使用了双向数据绑定，也就是说，当 model 变化时更新 view；当 view 变化时更新 model，view 和 model 一直保持同步。</p>
<p>Ember 可以跻身优秀的框架之列，是因为它不断地增添强大的功能。它引入的 Fastboot.js 模块提供了服务端渲染的能力，这个思路有点类似 React。</p>
<p>Ember 想要将 Angular 双向绑定和 React 服务端渲染的优点继承过来。Ember 社区使用这种方式持续不断地给它增加优秀地功能，我十分确信 Ember 会一直流行下去。</p>
<p>关于更多 Ember 的信息请看 <a href="emberjs.com">emberjs.com</a></p>
<p>总结<br>虽然 JavaScript 框架出现的时间不长，但在过去的几年中发展迅速。JavaScript 框架是创建复杂用户界面的首选，尤其是创建单页应用时。</p>
<p>不同的框架间有不同的概念和方法，但殊途同归，都在试图解决构建复杂应用时的通用问题，让单页应用变的更易用和便捷。</p>
<p>文章中提到的框架是当今市场中最优秀的框架。请在评论中写下你的经验和你所用的框架。</p>
<p>关于作者：<br>Sunil 是 noeticforce.com 的创始人和特约编辑。他的文章里包含了所有能够使移动应用，web 应用，网站变的更现代化。是一位富有激情的开发者，他使用 Python, Swift, JavaScript, PHP, Java, Android &amp; iOS ，也包括 HTML/CSS。</p>
<p>译者：CoolTiger  </p>
<p>原文地址:<a href="http://noeticforce.com/best-Javascript-frameworks-for-single-page-modern-web-applications" target="_blank" rel="noopener">http://noeticforce.com/best-Javascript-frameworks-for-single-page-modern-web-applications
</a></p>

          
        
      </div>
    

    
      <div class="post-footer">
        

        

        
        
          <div class="post-eof"></div>
        
      </div>
    
  </div>


  
    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2016/08/17/PHP基础（三）/">
                PHP基础（三）
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          
            Posted on 2016-08-17
          
        </span>

        
          
        

        
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          
            <h3 id="PHP基础（三）"><a href="#PHP基础（三）" class="headerlink" title="PHP基础（三）"></a>PHP基础（三）</h3><h6 id="PHP-表单和用户输入"><a href="#PHP-表单和用户输入" class="headerlink" title="PHP 表单和用户输入"></a>PHP 表单和用户输入</h6><p>PHP 中的 $_GET 和 $_POST 变量用于检索表单中的信息，比如用户输入。</p>
<h6 id="PHP-表单处理"><a href="#PHP-表单处理" class="headerlink" title="PHP 表单处理"></a>PHP 表单处理</h6><p>有一点很重要的事情值得注意，当处理 HTML 表单时，PHP 能把来自 HTML 页面中的表单元素自动变成可供 PHP 脚本使用。</p>
<p>实例<br>下面的实例包含了一个 HTML 表单，带有两个输入框和一个提交按钮。<br>form.html 文件代码如下：</p>
<pre><code>&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot;&gt;
&lt;title&gt;php教程(runoob.com)&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;form action=&quot;welcome.php&quot; method=&quot;post&quot;&gt;
名字: &lt;input type=&quot;text&quot; name=&quot;fname&quot;&gt;
年龄: &lt;input type=&quot;text&quot; name=&quot;age&quot;&gt;
&lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;
&lt;/form&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre><p>当用户填写完上面的表单并点击提交按钮时，表单的数据会被送往名为 “welcome.php” 的 PHP 文件：</p>
<pre><code>欢迎 &lt;?php echo $_POST[&quot;fname&quot;]; ?&gt;!&lt;br&gt;
你的年龄是 &lt;?php echo $_POST[&quot;age&quot;]; ?&gt;  岁。
</code></pre><p><img src="http://www.runoob.com/wp-content/uploads/2013/08/form1.gif" alt="http://www.runoob.com/wp-content/uploads/2013/08/form1.gif"><br>图片来源：菜鸟教程</p>
<h6 id="PHP-文件处理"><a href="#PHP-文件处理" class="headerlink" title="PHP 文件处理"></a>PHP 文件处理</h6><p>fopen() 函数用于在 PHP 中打开文件。</p>
<p>打开文件<br>fopen() 函数用于在 PHP 中打开文件。<br>此函数的第一个参数含有要打开的文件的名称，第二个参数规定了使用哪种模式来打开文件：</p>
<pre><code>&lt;html&gt;
&lt;body&gt;

&lt;?php
$file=fopen(&quot;welcome.txt&quot;,&quot;r&quot;);
?&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre><p>模式    描述</p>
<p>r    只读。在文件的开头开始。</p>
<p>r+    读/写。在文件的开头开始。</p>
<p>w    只写。打开并清空文件的内容；如果文件不存在，则创建新文件。</p>
<p>w+    读/写。打开并清空文件的内容；如果文件不存在，则创建新文件。</p>
<p>a    追加。打开并向文件末尾进行写操作，如果文件不存在，则创建新文件。</p>
<p>a+    读/追加。通过向文件末尾写内容，来保持文件内容。</p>
<p>x    只写。创建新文件。如果文件已存在，则返回 FALSE 和一个错误。</p>
<p>x+    读/写。创建新文件。如果文件已存在，则返回 FALSE 和一个错误。</p>
<p>注释：如果 fopen() 函数无法打开指定文件，则返回 0 (false)。</p>
<p>关闭文件</p>
<pre><code>&lt;?php
$file = fopen(&quot;test.txt&quot;,&quot;r&quot;);

//执行一些代码

fclose($file);
?&gt;
fclose() 函数用于关闭打开的文件：
</code></pre><p>检测文件末尾（EOF）</p>
<p>feof() 函数检测是否已到达文件末尾（EOF）。</p>
<p>在循环遍历未知长度的数据时，feof() 函数很有用。</p>
<p>注释：在 w 、a 和 x 模式下，您无法读取打开的文件！</p>
<p>if (feof($file)) echo “文件结尾”;</p>
<pre><code>if (feof($file)) echo &quot;文件结尾&quot;;
</code></pre><p>逐行读取文件</p>
<p>fgets() 函数用于从文件中逐行读取文件。</p>
<p>注释：在调用该函数之后，文件指针会移动到下一行。</p>
<p>逐字符读取文件</p>
<p>fgetc() 函数用于从文件中逐字符地读取文件。</p>
<p>注释：在调用该函数之后，文件指针会移动到下一个字符。</p>
<p>PHP 文件上传</p>
<p>通过 PHP，可以把文件上传到服务器。</p>
<p>创建一个文件上传表单</p>
<p>允许用户从表单上传文件是非常有用的。</p>
<p>请看下面这个供上传文件的 HTML 表单：</p>
<pre><code>&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot;&gt;
&lt;title&gt;php教程(runoob.com)&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;form action=&quot;upload_file.php&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;
    &lt;label for=&quot;file&quot;&gt;文件名：&lt;/label&gt;
    &lt;input type=&quot;file&quot; name=&quot;file&quot; id=&quot;file&quot;&gt;&lt;br&gt;
    &lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;提交&quot;&gt;
&lt;/form&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre><p>将以上代码保存到 form.html 文件中。</p>
<p>有关上面的 HTML 表单的一些注意项列举如下：</p>
<p><form> 标签的 enctype 属性规定了在提交表单时要使用哪种内容类型。在表单需要二进制数据时，比如文件内容，请使用 “multipart/form-data”。</form></p>
<p><input> 标签的 type=”file” 属性规定了应该把输入作为文件来处理。举例来说，当在浏览器中预览时，会看到输入框旁边有一个浏览按钮。</p>
<p>注释：允许用户上传文件是一个巨大的安全风险。请仅仅允许可信的用户执行文件上传操作。</p>
<p>创建上传脚本</p>
<pre><code>&quot;upload_file.php&quot; 文件含有供上传文件的代码：
&lt;?php
if ($_FILES[&quot;file&quot;][&quot;error&quot;] &gt; 0)
{
echo &quot;错误：&quot; . $_FILES[&quot;file&quot;][&quot;error&quot;] . &quot;&lt;br&gt;&quot;;
}
else
{
    echo &quot;上传文件名: &quot; . $_FILES[&quot;file&quot;][&quot;name&quot;] . &quot;&lt;br&gt;&quot;;
    echo &quot;文件类型: &quot; . $_FILES[&quot;file&quot;][&quot;type&quot;] . &quot;&lt;br&gt;&quot;;
    echo &quot;文件大小: &quot; . ($_FILES[&quot;file&quot;][&quot;size&quot;] / 1024) . &quot; kB&lt;br&gt;&quot;;
    echo &quot;文件临时存储的位置: &quot; . $_FILES[&quot;file&quot;][&quot;tmp_name&quot;];
}
?&gt;
</code></pre><p>通过使用 PHP 的全局数组 $_FILES，你可以从客户计算机向远程服务器上传文件。</p>
<p>第一个参数是表单的 input name，第二个下标可以是 “name”、”type”、”size”、”tmp_name” 或 “error”。如下所示：</p>
<ul>
<li>$_FILES[“file”][“name”] - 上传文件的名称</li>
</ul>
<ul>
<li><p>$_FILES[“file”][“type”] - 上传文件的类型</p>
</li>
<li><p>$_FILES[“file”][“size”] - 上传文件的大小，以字节计</p>
</li>
</ul>
<ul>
<li>$_FILES[“file”][“tmp_name”] - 存储在服务器的文件的临时副本的名称</li>
</ul>
<ul>
<li>$_FILES[“file”][“error”] - 由文件上传导致的错误代码</li>
</ul>
<p>这是一种非常简单文件上传方式。基于安全方面的考虑，您应当增加有关允许哪些用户上传文件的限制。</p>
<p>上传限制 </p>
<p>在这个脚本中，我们增加了对文件上传的限制。用户只能上传 .gif、.jpeg、.jpg、.png 文件，文件大小必须小于 200 kB：</p>
<pre><code>&lt;?php
// 允许上传的图片后缀
$allowedExts = array(&quot;gif&quot;, &quot;jpeg&quot;, &quot;jpg&quot;, &quot;png&quot;);
$temp = explode(&quot;.&quot;, $_FILES[&quot;file&quot;][&quot;name&quot;]);
$extension = end($temp);        // 获取文件后缀名
if ((($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/gif&quot;)
|| ($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/jpeg&quot;)
|| ($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/jpg&quot;)
|| ($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/pjpeg&quot;)
|| ($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/x-png&quot;)
|| ($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/png&quot;))
&amp;&amp; ($_FILES[&quot;file&quot;][&quot;size&quot;] &lt; 204800)    // 小于 200 kb
&amp;&amp; in_array($extension, $allowedExts))
{
if ($_FILES[&quot;file&quot;][&quot;error&quot;] &gt; 0)
{
    echo &quot;错误：: &quot; . $_FILES[&quot;file&quot;][&quot;error&quot;] . &quot;&lt;br&gt;&quot;;
}
else
{
    echo &quot;上传文件名: &quot; . $_FILES[&quot;file&quot;][&quot;name&quot;] . &quot;&lt;br&gt;&quot;;
    echo &quot;文件类型: &quot; . $_FILES[&quot;file&quot;][&quot;type&quot;] . &quot;&lt;br&gt;&quot;;
    echo &quot;文件大小: &quot; . ($_FILES[&quot;file&quot;][&quot;size&quot;] / 1024) . &quot; kB&lt;br&gt;&quot;;
    echo &quot;文件临时存储的位置: &quot; . $_FILES[&quot;file&quot;][&quot;tmp_name&quot;];
}
}
else
{
echo &quot;非法的文件格式&quot;;
}
?&gt;
</code></pre><p>保存被上传的文件</p>
<p>上面的实例在服务器的 PHP 临时文件夹中创建了一个被上传文件的临时副本。</p>
<p>这个临时的副本文件会在脚本结束时消失。要保存被上传的文件，我们需要把它拷贝到另外的位置：</p>
<pre><code>    &lt;?php
// 允许上传的图片后缀
$allowedExts = array(&quot;gif&quot;, &quot;jpeg&quot;, &quot;jpg&quot;, &quot;png&quot;);
$temp = explode(&quot;.&quot;, $_FILES[&quot;file&quot;][&quot;name&quot;]);
echo $_FILES[&quot;file&quot;][&quot;size&quot;];
$extension = end($temp);     // 获取文件后缀名
if ((($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/gif&quot;)
|| ($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/jpeg&quot;)
|| ($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/jpg&quot;)
|| ($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/pjpeg&quot;)
|| ($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/x-png&quot;)
|| ($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/png&quot;))
&amp;&amp; ($_FILES[&quot;file&quot;][&quot;size&quot;] &lt; 204800)   // 小于 200 kb
&amp;&amp; in_array($extension, $allowedExts))
{
if ($_FILES[&quot;file&quot;][&quot;error&quot;] &gt; 0)
{
    echo &quot;错误：: &quot; . $_FILES[&quot;file&quot;][&quot;error&quot;] . &quot;&lt;br&gt;&quot;;
}
else
{
    echo &quot;上传文件名: &quot; . $_FILES[&quot;file&quot;][&quot;name&quot;] . &quot;&lt;br&gt;&quot;;
    echo &quot;文件类型: &quot; . $_FILES[&quot;file&quot;][&quot;type&quot;] . &quot;&lt;br&gt;&quot;;
    echo &quot;文件大小: &quot; . ($_FILES[&quot;file&quot;][&quot;size&quot;] / 1024) . &quot; kB&lt;br&gt;&quot;;
    echo &quot;文件临时存储的位置: &quot; . $_FILES[&quot;file&quot;][&quot;tmp_name&quot;] . &quot;&lt;br&gt;&quot;;

    // 判断当期目录下的 upload 目录是否存在该文件
    // 如果没有 upload 目录，你需要创建它，upload 目录权限为 777
    if (file_exists(&quot;upload/&quot; . $_FILES[&quot;file&quot;][&quot;name&quot;]))
    {
        echo $_FILES[&quot;file&quot;][&quot;name&quot;] . &quot; 文件已经存在。 &quot;;
    }
    else
    {
        // 如果 upload 目录不存在该文件则将文件上传到 upload 目录下
        move_uploaded_file($_FILES[&quot;file&quot;][&quot;tmp_name&quot;], &quot;upload/&quot; . $_FILES[&quot;file&quot;][&quot;name&quot;]);
        echo &quot;文件存储在: &quot; . &quot;upload/&quot; . $_FILES[&quot;file&quot;][&quot;name&quot;];
    }
}
}
else
{
echo &quot;非法的文件格式&quot;;
}
?&gt;
</code></pre><p>上面的脚本检测了文件是否已存在，如果不存在，则把文件拷贝到名为 “upload” 的目录下。<br>文件上传演示操作如下所示：<br><img src="http://www.runoob.com/wp-content/uploads/2013/08/upload-form.gif" alt="http://www.runoob.com/wp-content/uploads/2013/08/upload-form.gif"></p>
<p>图片来源：菜鸟教程    </p>

          
        
      </div>
    

    
      <div class="post-footer">
        

        

        
        
          <div class="post-eof"></div>
        
      </div>
    
  </div>


  

          </div>

          
            <div class="pagination">
              <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/">&raquo;</a>
            </div>
          
        </div>

        
<div class="sidebar-toggle">
  <div class="sidebar-toggle-line-wrap">
    <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
    <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
    <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
  </div>
</div>

<div id="sidebar" class="sidebar">
  <div class="sidebar-inner">

    

    <div class="site-overview">
      <div class="site-author motion-element">
        <img class="site-author-image" src="/images/default_avatar.jpg" alt="魏姣" />
        <p class="site-author-name">魏姣</p>
      </div>
      <p class="site-description motion-element"></p>
      <div class="site-state motion-element">
        <div class="site-state-item site-state-posts">
          <span class="site-state-item-count">33</span>
          <span class="site-state-item-name">posts</span>
        </div>
        <div class="site-state-item site-state-tags">
            <span class="site-state-item-count">0</span>
            <span class="site-state-item-name">tags</span>
        </div>
        <div class="site-state-item site-state-pages">
            <span class="site-state-item-count">0</span>
            <span class="site-state-item-name">pages</span>
        </div>
      </div>

      

      <div class="links-of-author motion-element">
        
      </div>

      
      

    </div>

    

  </div>
</div>


      </div>
    </div>

    <div id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; &nbsp; 
  2021
  <span class="with-love">
    <i class="icon-heart"></i>
  </span>
  <span class="author">魏姣</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT
  </a>
</div>



      </div>
    </div>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript">
    $(document).ready(function() {
      $(".fancybox").fancybox();
    });
  </script>

  <script type="text/javascript">
  function hasMobileUA () {
    var nav = window.navigator;
    var ua = nav.userAgent;
    var pa = /iPad|iPhone|Android|Opera Mini|BlackBerry|webOS|UCWEB|Blazer|PSP|IEMobile|Symbian/g;

    return pa.test(ua);
  }

  function isDesktop () {
    return screen.width > 991 && !hasMobileUA();
  }

  function isTablet () {
    return screen.width < 992 && screen.width > 767 && hasMobileUA();
  }

  function isMobile () {
    return screen.width < 767 && hasMobileUA();
  }

  function escapeSelector (selector) {
    return selector.replace(/[!"$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g, "\\$&")
  }
</script>

  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" id="motion.global">
  $(document).ready(function () {
    var body = $('body');
    var isSidebarVisible = false;
    var sidebarToggle = $('.sidebar-toggle');
    var sidebarToggleLine1st = $('.sidebar-toggle-line-first')
    var sidebarToggleLine2nd = $('.sidebar-toggle-line-middle');
    var sidebarToggleLine3rd = $('.sidebar-toggle-line-last');
    var sidebar = $('.sidebar');

    var SIDEBAR_WIDTH = '320px';
    var SIDEBAR_DISPLAY_DURATION = 300;

    var sidebarToogleLineStatusInit = {width: '100%', opacity: 1, left: 0, rotateZ: 0, top: 0};

    var sidebarToggleLine1stStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine1stStatusArrow = {width: '50%', rotateZ: '-45deg', top: '2px'};
    var sidebarToogleLine1stStatusClose = {width: '100%', rotateZ: '-45deg', top: '5px'};

    var sidebarToggleLine2ndStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine2ndStatusArrow = {width: '90%'};
    var sidebarToogleLine2ndStatusClose = {opacity: 0};

    var sidebarToggleLine3rdStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine3rdStatusArrow = {width: '50%', rotateZ: '45deg', top: '-2px'};
    var sidebarToogleLine3rdStatusClose = {width: '100%', rotateZ: '45deg', top: '-5px'};

    LogoAndMenuMotion();
    sidebatToggleMotion();
    postsListMotion();
    backToTopMotion();


    $(document)
      .on('sidebar.isShowing', function () {
        isDesktop() && body.velocity(
          {paddingRight: SIDEBAR_WIDTH},
          SIDEBAR_DISPLAY_DURATION
        );
        sidebarContentMotion();
      })
      .on('sidebar.isHiding', function () {});

    function LogoAndMenuMotion() {
      $.Velocity.RunSequence([
        { e: $('.brand'), p: { opacity: 1 }, o: { duration: 100 } },
        { e: $('.logo'), p: { opacity: 1, top: 0 }, o: { duration: 50} },
        
        { e: $('.site-title'), p: { opacity: 1, top: 0 }, o: { duration: 200 } }
      ]);
      $('.menu-item').velocity('transition.slideDownIn', {display: null});
    }


    function backToTopMotion () {
      var b2top = $('.back-to-top');
      b2top.on('click', function () {
        body.velocity('scroll');
      });
    }

    function sidebarShowMotion () {

      sidebarToggleLine1st.velocity(sidebarToogleLine1stStatusClose);
      sidebarToggleLine2nd.velocity(sidebarToogleLine2ndStatusClose);
      sidebarToggleLine3rd.velocity(sidebarToogleLine3rdStatusClose);

      sidebar.velocity({width: SIDEBAR_WIDTH}, {
        display: 'block',
        duration: SIDEBAR_DISPLAY_DURATION,
        complete: function () {
          sidebar.addClass('sidebar-active');
          sidebar.trigger('sidebar.didShow');
        }
      });
      sidebar.trigger('sidebar.isShowing');
    }

    function sidebarHideMotion () {
      isDesktop() && body.velocity({paddingRight: 0});
      sidebar.velocity('reverse');

      sidebarToggleLine1st.velocity(sidebarToggleLine1stStatusInit);
      sidebarToggleLine2nd.velocity(sidebarToggleLine2ndStatusInit);
      sidebarToggleLine3rd.velocity(sidebarToggleLine3rdStatusInit);

      sidebar.removeClass('sidebar-active');
      sidebar.trigger('sidebar.isHiding');
    };

    function sidebarContentMotion () {
      $('.sidebar .motion-element').velocity(
        'transition.slideRightIn',
        {stagger: 50, drag: true}
      );
    }

    function postsListMotion () {
      var postMotionOptions = window.postMotionOptions || {stagger: 300, drag: true};
      $('.post').velocity('transition.slideDownIn', postMotionOptions);
    }

    function sidebatToggleMotion () {
      sidebarToggle.on('click', function () {
        isSidebarVisible ? sidebarHideMotion() : sidebarShowMotion();
        isSidebarVisible = !isSidebarVisible;
      });

      sidebarToggle.hover(function () {
        if (isSidebarVisible) {return}
        sidebarToggleLine1st.velocity('stop').velocity(sidebarToggleLine1stStatusArrow);
        sidebarToggleLine2nd.velocity('stop').velocity(sidebarToggleLine2ndStatusArrow);
        sidebarToggleLine3rd.velocity('stop').velocity(sidebarToggleLine3rdStatusArrow);
      }, function () {
        if (isSidebarVisible) {return}
        sidebarToggleLine1st.velocity('stop').velocity(sidebarToggleLine1stStatusInit);
        sidebarToggleLine2nd.velocity('stop').velocity(sidebarToggleLine2ndStatusInit);
        sidebarToggleLine3rd.velocity('stop').velocity(sidebarToggleLine3rdStatusInit);
      });
    }
  });

</script>





  

  

  
  

  


  
</body>
</html>
